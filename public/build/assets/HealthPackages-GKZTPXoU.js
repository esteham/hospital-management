import{_ as k}from"./AuthenticatedLayout-BMEVadj2.js";import{q as h,p as B,y as P,c as o,a as d,u as n,h as D,w as i,b as e,d as v,l as p,f as g,o as r,t as l,F as f,e as _,n as N}from"./app-CUJanSpt.js";import{a as C}from"./api-BUGl6N2V.js";import"./logo-DeNzv_1-.js";const V={class:"py-4"},M={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6"},j={class:"flex items-start sm:items-center justify-between gap-3"},E={class:"text-xs text-slate-500 mb-1","aria-label":"Breadcrumb"},F={class:"flex items-center gap-1"},H={class:"inline-flex items-center gap-2 rounded-xl bg-red-300 text-black px-4 py-1 text-sm font-medium shadow-sm hover:bg-blue-800 hover:text-white transition-colors"},L={class:"flex items-center gap-2"},A={key:0,class:"rounded-xl border border-red-200 bg-red-50 text-red-800 p-4"},S={key:1,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"},T={key:2,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"},$={class:"flex items-start justify-between gap-3 mb-3"},z={class:"font-semibold text-slate-800 group-hover:text-slate-900 transition-colors"},I={class:"text-sm text-slate-500 mt-0.5"},U={class:"grid grid-cols-2 gap-x-4 gap-y-2 text-sm text-slate-700"},q={class:"space-y-0.5"},R={class:"font-medium"},G={class:"space-y-0.5"},J={class:"font-medium"},K={class:"space-y-0.5"},O={class:"font-medium"},Q={class:"space-y-0.5"},W={class:"font-medium"},X={key:0,class:"mt-3 rounded-lg border border-red-200 bg-red-50 p-3"},Y={class:"text-xs text-red-700 mt-1"},Z={class:"mt-4 flex items-center justify-between text-xs text-slate-500"},ee={class:"flex items-center gap-2"},te=["href"],se={key:3,class:"rounded-2xl border border-slate-200/60 bg-white p-10 text-center shadow-sm"},ae={class:"mt-4"},ce={__name:"HealthPackages",setup(le){const x=h([]),c=h(!0),u=h(""),m=a=>{const t=Number(a??0);try{return new Intl.NumberFormat("bn-BD",{style:"currency",currency:"BDT",maximumFractionDigits:0}).format(t)}catch{return`à§³${t.toLocaleString()}`}},b=a=>{const t=new Date(a);return isNaN(t)?"-":t.toLocaleDateString()},y=a=>a==="confirmed"?"bg-green-100 text-green-800 ring-green-200":a==="pending"?"bg-yellow-100 text-yellow-800 ring-yellow-200":"bg-red-100 text-red-800 ring-red-200",w=B(()=>!c.value&&x.value.length>0);return P(async()=>{c.value=!0,u.value="";try{const a=await C.get("/api/bookings"),t=a?.data?.data??a?.data??[];x.value=Array.isArray(t)?t:[]}catch(a){console.error("Error fetching booked packages:",a),u.value="Unable to load your bookings right now. Please try again."}finally{c.value=!1}}),(a,t)=>(r(),o(f,null,[d(n(D),{title:"Health Packages"}),d(k,null,{default:i(()=>[e("div",V,[e("div",M,[e("div",j,[e("div",null,[e("nav",E,[e("ol",F,[e("li",H,[d(n(p),{href:"/dashboard"},{default:i(()=>[...t[0]||(t[0]=[g("Back",-1)])]),_:1})]),t[1]||(t[1]=e("li",{"aria-hidden":"true",class:"mx-1 text-slate-400"}," / ",-1)),t[2]||(t[2]=e("li",{class:"text-slate-700 font-medium"}," Dashboard ",-1))])]),t[3]||(t[3]=e("h2",{class:"font-bold text-2xl text-slate-800 leading-tight"}," Health Packages ",-1)),t[4]||(t[4]=e("p",{class:"text-slate-600 mt-1"}," Explore preventive care and manage your booked packages. ",-1))]),e("div",L,[d(n(p),{href:"/#health-s",class:"inline-flex items-center gap-2 rounded-xl bg-blue-600 text-white px-4 py-2.5 text-sm font-medium shadow-sm hover:bg-blue-800 hover:text-white transition-colors"},{default:i(()=>[...t[5]||(t[5]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1),g(" Book Package ",-1)])]),_:1})])]),u.value?(r(),o("div",A,l(u.value),1)):v("",!0),c.value?(r(),o("div",S,[(r(),o(f,null,_(6,s=>e("div",{key:s,class:"rounded-2xl border border-slate-200/60 bg-white p-5 shadow-sm"},[...t[6]||(t[6]=[e("div",{class:"animate-pulse space-y-3"},[e("div",{class:"h-5 w-1/2 bg-slate-200 rounded"}),e("div",{class:"h-4 w-1/3 bg-slate-200 rounded"}),e("div",{class:"grid grid-cols-2 gap-3 pt-2"},[e("div",{class:"h-4 bg-slate-200 rounded"}),e("div",{class:"h-4 bg-slate-200 rounded"}),e("div",{class:"h-4 bg-slate-200 rounded"}),e("div",{class:"h-4 bg-slate-200 rounded"})]),e("div",{class:"h-3 w-1/3 bg-slate-200 rounded"})],-1)])])),64))])):w.value?(r(),o("div",T,[(r(!0),o(f,null,_(x.value,s=>(r(),o("article",{key:s.id,class:"group rounded-2xl border border-slate-200/60 bg-white p-5 shadow-sm hover:shadow-md transition-shadow"},[e("div",$,[e("div",null,[e("h4",z,l(s.health_check?.name||`Package #${s.health_check_id}`),1),e("p",I," ID: "+l(s.id),1)]),e("span",{class:N(["inline-flex items-center rounded-full px-2.5 py-1 text-xs font-medium ring-1",y(s.status)])},l(s.status?.charAt(0).toUpperCase()+s.status?.slice(1)),3)]),e("dl",U,[e("div",q,[t[7]||(t[7]=e("dt",{class:"text-slate-500"},"Price",-1)),e("dd",R,l(s.health_check?.price?m(s.health_check.price):m(s.total_amount)),1)]),e("div",G,[t[8]||(t[8]=e("dt",{class:"text-slate-500"},"Payment",-1)),e("dd",J,l(s.payment_type),1)]),e("div",K,[t[9]||(t[9]=e("dt",{class:"text-slate-500"},"Paid",-1)),e("dd",O,l(m(s.amount_paid)),1)]),e("div",Q,[t[10]||(t[10]=e("dt",{class:"text-slate-500"},"Total",-1)),e("dd",W,l(m(s.total_amount)),1)])]),s.cancellation_reason?(r(),o("div",X,[t[11]||(t[11]=e("p",{class:"text-xs font-medium text-red-800"}," Notice ",-1)),e("p",Y,l(s.cancellation_reason),1)])):v("",!0),e("div",Z,[e("span",null,"Booked on "+l(b(s.created_at)),1),e("div",ee,[d(n(p),{href:"/patient/appointments",class:"inline-flex items-center gap-1 rounded-lg border border-slate-200 px-2.5 py-1.5 font-medium text-slate-700 hover:bg-slate-50"},{default:i(()=>[...t[12]||(t[12]=[g(" View Details ",-1)])]),_:1}),e("a",{href:a.route("patient.package-bookings.download-pdf",{package_booking:s.id}),class:"inline-flex items-center gap-1 rounded-lg bg-slate-800 text-white px-2.5 py-1.5 font-medium hover:bg-slate-900"},"Receipt ",8,te)])])]))),128))])):(r(),o("div",se,[t[14]||(t[14]=e("div",{class:"mx-auto mb-4 w-16 h-16 rounded-2xl bg-slate-100 grid place-items-center"},[e("svg",{class:"w-8 h-8 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})])],-1)),t[15]||(t[15]=e("h3",{class:"text-slate-800 font-semibold"}," No packages booked yet ",-1)),t[16]||(t[16]=e("p",{class:"text-slate-600 text-sm mt-1"}," Browse our health packages and book your first checkup. ",-1)),e("div",ae,[d(n(p),{href:"/book-appointment",class:"inline-flex items-center gap-2 rounded-xl bg-green-600 text-white px-4 py-2.5 text-sm font-medium shadow-sm hover:bg-green-700 transition-colors"},{default:i(()=>[...t[13]||(t[13]=[g(" Explore Packages ",-1)])]),_:1})])]))])])]),_:1})],64))}};export{ce as default};
