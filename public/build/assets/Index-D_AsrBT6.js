import{r as h,x as J,c as F,z as K,A as z,o as d,w as O,d as e,b as l,u as n,t as o,C as Q,a as r,f as y,j as p,F as C,g as M,e as f,E as X,v}from"./app-fy-Ga1OQ.js";import{_ as Y}from"./AuthenticatedLayout-B9XOiBHM.js";import{a as S}from"./api-_8CyiF0M.js";import{_ as Z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{c as m}from"./createLucideIcon-D4CIbuje.js";import"./logo-DeNzv_1-.js";/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=m("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=m("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=m("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=m("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=m("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=m("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=m("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=m("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),ee={class:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50/30"},te={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},se={class:"space-y-6"},ae={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},le={class:"flex items-center gap-4"},ne={class:"flex items-center gap-2 text-sm text-gray-600 bg-white px-3 py-2 rounded-lg border"},ie=["disabled"],oe={key:0,class:"bg-white rounded-2xl shadow-sm border border-gray-200/80 p-6 space-y-6 backdrop-blur-sm"},de={class:"flex items-center justify-between"},re={class:"text-xl font-semibold text-gray-900"},ce={key:0,class:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},ue={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"},pe={class:"space-y-2"},me={class:"flex items-center gap-2 text-sm font-medium text-gray-700"},ye={class:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-2"},xe=["value"],_e={class:"text-sm text-gray-700"},fe={class:"space-y-2"},ge={class:"flex items-center gap-2 text-sm font-medium text-gray-700"},he={class:"space-y-2"},ve={class:"flex items-center gap-2 text-sm font-medium text-gray-700"},be={class:"space-y-2"},ke={class:"space-y-2"},we={class:"flex items-center gap-2 text-sm font-medium text-gray-700"},Ce={class:"space-y-2"},Me={class:"flex items-center gap-2 text-sm font-medium text-gray-700"},Se={class:"relative"},je={class:"flex flex-col sm:flex-row gap-3 pt-4 border-t border-gray-200"},De=["disabled"],$e={class:"bg-white rounded-2xl shadow-sm border border-gray-200/80 overflow-hidden"},Ve={class:"overflow-x-auto hidden sm:block"},Fe={class:"w-full min-w-[600px]"},Te={class:"divide-y divide-gray-200/80"},Ne={key:0},Ee={colspan:"6",class:"px-4 sm:px-6 py-12 text-center"},Le={class:"flex flex-col items-center justify-center gap-3"},Ue={class:"px-4 sm:px-6 py-4 whitespace-nowrap"},Ae={class:"flex flex-col gap-1"},He={class:"font-medium text-gray-900 text-sm"},Ie={class:"px-4 sm:px-6 py-4 whitespace-nowrap"},Be={class:"flex items-center gap-2 text-gray-700"},qe={class:"px-4 sm:px-6 py-4 whitespace-nowrap text-gray-600"},ze={class:"px-4 sm:px-6 py-4 whitespace-nowrap"},Oe={class:"flex items-center gap-2 text-gray-700"},Pe={class:"px-4 sm:px-6 py-4 whitespace-nowrap"},Ge={class:"flex items-center gap-2 text-gray-700"},We={class:"px-4 sm:px-6 py-4 whitespace-nowrap text-right"},Re={class:"flex justify-end gap-2 group-hover:opacity-100 transition-opacity"},Je=["onClick"],Ke=["onClick"],Qe={key:1},Xe={colspan:"6",class:"px-4 sm:px-6 py-16 text-center"},Ye={class:"flex flex-col items-center justify-center gap-4 text-gray-500"},Ze={class:"block sm:hidden p-6 space-y-4"},et={key:0,class:"text-center py-12"},tt={class:"flex flex-col items-center justify-center gap-3"},st={class:"flex justify-between items-start"},at={class:"flex-1"},lt={class:"font-medium text-gray-900 mb-2"},nt={class:"text-sm text-gray-600 flex items-center gap-2 mb-1"},it={class:"text-sm text-gray-600 mb-1"},ot={class:"text-sm text-gray-600 flex items-center gap-2 mb-1"},dt={class:"text-sm text-gray-600 flex items-center gap-2"},rt={class:"flex gap-2 ml-4"},ct=["onClick"],ut=["onClick"],pt={key:1,class:"text-center py-16"},mt={class:"flex flex-col items-center justify-center gap-4 text-gray-500"},yt={__name:"Index",setup(xt){const A=[{v:"sat",t:"Saturday"},{v:"sun",t:"Sunday"},{v:"mon",t:"Monday"},{v:"tue",t:"Tuesday"},{v:"wed",t:"Wednesday"},{v:"thu",t:"Thursday"},{v:"fri",t:"Friday"}],u=h([]),x=h(!1),b=h(!1),_=h(null),g=h(!1),i=J({day_of_week:[],start_time:"09:00",end_time:"13:00",slot_minutes:15,max_patients_per_day:20,fee:500}),G=F(()=>A),k=F(()=>_.value!==null),H=F(()=>u.value.length>0);function w(a){if(!a)return a;if(/^\d{2}:\d{2}:\d{2}$/.test(a))return a.slice(0,5);const t=a.match(/^(\d{1,2}):(\d{2})/);return t?`${t[1].padStart(2,"0")}:${t[2]}`:a}async function W(){x.value=!0;try{const{data:a}=await S.get("/doctor/schedules/list");u.value=a}catch(a){alert(a.response?.data?.message||"Failed to load schedules.")}finally{x.value=!1}}function $(){_.value=null,g.value=!1,Object.assign(i,{day_of_week:[],start_time:"09:00",end_time:"13:00",slot_minutes:15,max_patients_per_day:20,fee:500})}function V(){$(),g.value=!0}async function R(){b.value=!0;const a={...i,start_time:w(i.start_time),end_time:w(i.end_time)};try{if(_.value){const{data:t}=await S.put(`/doctor/schedules/${_.value.id}`,a),s=u.value.findIndex(c=>c.id===_.value.id);s>-1&&(u.value[s]=t)}else{const{data:t}=await S.post("/doctor/schedules",a);u.value.push(t)}$()}catch(t){alert(t.response?.data?.message||"Validation error")}finally{b.value=!1}}function I(a){_.value=a,g.value=!0,Object.assign(i,{day_of_week:Array.isArray(a.day_of_week)?a.day_of_week:[a.day_of_week],start_time:w(a.start_time),end_time:w(a.end_time),slot_minutes:a.slot_minutes,max_patients_per_day:a.max_patients_per_day,fee:a.fee})}async function B(a){if(confirm("Are you sure you want to delete this schedule?"))try{await S.delete(`/doctor/schedules/${a.id}`),u.value=u.value.filter(t=>t.id!==a.id)}catch(t){alert(t.response?.data?.message||"Failed to delete schedule.")}}function q(a){const t=A.find(s=>s.v===a);return t?t.t:a}return K(W),(a,t)=>(d(),z(Y,null,{default:O(()=>[e("div",ee,[e("div",te,[e("div",se,[e("div",ae,[e("div",le,[e("div",ne,[l(n(j),{class:"w-4 h-4"}),e("span",null,o(u.value.length)+" schedule"+o(u.value.length!==1?"s":"")+" configured",1)])]),e("button",{onClick:V,class:"btn-primary flex items-center gap-2 w-full sm:w-auto",disabled:g.value&&!k.value},[l(n(L),{class:"w-4 h-4"}),t[6]||(t[6]=e("span",null,"New Schedule",-1))],8,ie)]),l(Q,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0 transform -translate-y-4","enter-to-class":"opacity-100 transform translate-y-0","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100 transform translate-y-0","leave-to-class":"opacity-0 transform -translate-y-4"},{default:O(()=>[g.value?(d(),r("div",oe,[e("div",de,[e("div",null,[e("h2",re,o(k.value?"Edit Schedule":"Create New Schedule"),1),t[7]||(t[7]=e("p",{class:"text-gray-500 text-sm mt-1"}," Configure consultation hours and availability ",-1))]),k.value?(d(),r("span",ce,[l(n(E),{class:"w-3 h-3"}),t[8]||(t[8]=p(" Editing ",-1))])):y("",!0)]),e("div",ue,[e("div",pe,[e("label",me,[l(n(j),{class:"w-4 h-4"}),t[9]||(t[9]=p(" Days of Week (Available) ",-1))]),e("div",ye,[(d(!0),r(C,null,M(G.value,s=>(d(),r("label",{key:s.v,class:"flex items-center gap-2 cursor-pointer"},[f(e("input",{"onUpdate:modelValue":t[0]||(t[0]=c=>i.day_of_week=c),value:s.v,type:"checkbox",class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,8,xe),[[X,i.day_of_week]]),e("span",_e,o(s.t),1)]))),128))])]),e("div",fe,[e("label",ge,[l(n(D),{class:"w-4 h-4"}),t[10]||(t[10]=p(" Start Time ",-1))]),f(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>i.start_time=s),type:"time",class:"input-field"},null,512),[[v,i.start_time]])]),e("div",he,[e("label",ve,[l(n(D),{class:"w-4 h-4"}),t[11]||(t[11]=p(" End Time ",-1))]),f(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>i.end_time=s),type:"time",class:"input-field"},null,512),[[v,i.end_time]])]),e("div",be,[t[12]||(t[12]=e("label",{class:"text-sm font-medium text-gray-700"}," Slot Duration (Minutes) ",-1)),f(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>i.slot_minutes=s),type:"number",min:"5",max:"60",step:"5",class:"input-field"},null,512),[[v,i.slot_minutes,void 0,{number:!0}]])]),e("div",ke,[e("label",we,[l(n(U),{class:"w-4 h-4"}),t[13]||(t[13]=p(" Max Patients/Day ",-1))]),f(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>i.max_patients_per_day=s),type:"number",min:"1",class:"input-field"},null,512),[[v,i.max_patients_per_day,void 0,{number:!0}]])]),e("div",Ce,[e("label",Me,[l(n(T),{class:"w-4 h-4"}),t[14]||(t[14]=p(" Consultation Fee ",-1))]),e("div",Se,[t[15]||(t[15]=e("span",{class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500"},"$",-1)),f(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>i.fee=s),type:"number",min:"0",step:"50",class:"input-field pl-8"},null,512),[[v,i.fee,void 0,{number:!0}]])])])]),e("div",je,[e("button",{onClick:R,disabled:b.value,class:"btn-primary flex items-center gap-2 w-full sm:w-auto"},[b.value?(d(),z(n(N),{key:0,class:"w-4 h-4 animate-spin"})):y("",!0),e("span",null,o(k.value?"Update Schedule":"Create Schedule"),1)],8,De),e("button",{onClick:$,class:"btn-secondary w-full sm:w-auto"}," Cancel ")])])):y("",!0)]),_:1}),e("div",$e,[t[24]||(t[24]=e("div",{class:"px-6 py-4 border-b border-gray-200/80 bg-gray-50/50"},[e("h3",{class:"text-lg font-semibold text-gray-900"}," Configured Schedules ")],-1)),e("div",Ve,[e("table",Fe,[t[20]||(t[20]=e("thead",{class:"bg-gray-50/80 border-b border-gray-200/80"},[e("tr",null,[e("th",{class:"px-4 sm:px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Days "),e("th",{class:"px-4 sm:px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Time Slot "),e("th",{class:"px-4 sm:px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Duration "),e("th",{class:"px-4 sm:px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Capacity "),e("th",{class:"px-4 sm:px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Fee "),e("th",{class:"px-4 sm:px-6 py-4 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",Te,[x.value?(d(),r("tr",Ne,[e("td",Ee,[e("div",Le,[l(n(N),{class:"w-8 h-8 animate-spin text-blue-600"}),t[16]||(t[16]=e("span",{class:"text-gray-500 font-medium"},"Loading schedules...",-1))])])])):y("",!0),(d(!0),r(C,null,M(u.value,s=>(d(),r("tr",{key:s.id,class:"group hover:bg-blue-50/30 transition-colors duration-200"},[e("td",Ue,[e("div",Ae,[(d(!0),r(C,null,M(s.day_of_week,c=>(d(),r("div",{key:c,class:"flex items-center gap-2"},[t[17]||(t[17]=e("div",{class:"w-2 h-2 bg-blue-600 rounded-full"},null,-1)),e("span",He,o(q(c)),1)]))),128))])]),e("td",Ie,[e("div",Be,[l(n(D),{class:"w-4 h-4 text-gray-400"}),e("span",null,o(s.start_time)+" - "+o(s.end_time),1)])]),e("td",qe,o(s.slot_minutes)+" minutes ",1),e("td",ze,[e("div",Oe,[l(n(U),{class:"w-4 h-4 text-gray-400"}),e("span",null,o(s.max_patients_per_day)+" patients",1)])]),e("td",Pe,[e("div",Ge,[l(n(T),{class:"w-4 h-4 text-gray-400"}),e("span",null,"$"+o(s.fee),1)])]),e("td",We,[e("div",Re,[e("button",{onClick:c=>I(s),class:"action-btn bg-blue-50 text-blue-600 hover:bg-blue-100",title:"Edit schedule"},[l(n(E),{class:"w-4 h-4"})],8,Je),e("button",{onClick:c=>B(s),class:"action-btn bg-red-50 text-red-600 hover:bg-red-100",title:"Delete schedule"},[l(n(P),{class:"w-4 h-4"})],8,Ke)])])]))),128)),!x.value&&!H.value?(d(),r("tr",Qe,[e("td",Xe,[e("div",Ye,[l(n(j),{class:"w-12 h-12 text-gray-300"}),t[19]||(t[19]=e("div",null,[e("p",{class:"font-medium text-gray-900 mb-1"}," No schedules configured "),e("p",{class:"text-sm"}," Get started by creating your first schedule ")],-1)),e("button",{onClick:V,class:"btn-primary flex items-center gap-2 mt-2 w-full sm:w-auto"},[l(n(L),{class:"w-4 h-4"}),t[18]||(t[18]=e("span",null,"Create Schedule",-1))])])])])):y("",!0)])])]),e("div",Ze,[x.value?(d(),r("div",et,[e("div",tt,[l(n(N),{class:"w-8 h-8 animate-spin text-blue-600"}),t[21]||(t[21]=e("span",{class:"text-gray-500 font-medium"},"Loading schedules...",-1))])])):y("",!0),(d(!0),r(C,null,M(u.value,s=>(d(),r("div",{key:s.id,class:"bg-gray-50 rounded-lg p-4 space-y-3"},[e("div",st,[e("div",at,[e("div",lt," Days: "+o(s.day_of_week.map(c=>q(c)).join(", ")),1),e("div",nt,[l(n(D),{class:"w-4 h-4 text-gray-400"}),p(" Time: "+o(s.start_time)+" - "+o(s.end_time),1)]),e("div",it," Duration: "+o(s.slot_minutes)+" minutes ",1),e("div",ot,[l(n(U),{class:"w-4 h-4 text-gray-400"}),p(" Capacity: "+o(s.max_patients_per_day)+" patients ",1)]),e("div",dt,[l(n(T),{class:"w-4 h-4 text-gray-400"}),p(" Fee: $"+o(s.fee),1)])]),e("div",rt,[e("button",{onClick:c=>I(s),class:"action-btn bg-blue-50 text-blue-600 hover:bg-blue-100",title:"Edit schedule"},[l(n(E),{class:"w-4 h-4"})],8,ct),e("button",{onClick:c=>B(s),class:"action-btn bg-red-50 text-red-600 hover:bg-red-100",title:"Delete schedule"},[l(n(P),{class:"w-4 h-4"})],8,ut)])])]))),128)),!x.value&&!H.value?(d(),r("div",pt,[e("div",mt,[l(n(j),{class:"w-12 h-12 text-gray-300"}),t[23]||(t[23]=e("div",null,[e("p",{class:"font-medium text-gray-900 mb-1"}," No schedules configured "),e("p",{class:"text-sm"}," Get started by creating your first schedule ")],-1)),e("button",{onClick:V,class:"btn-primary flex items-center gap-2 mt-2 w-full"},[l(n(L),{class:"w-4 h-4"}),t[22]||(t[22]=e("span",null,"Create Schedule",-1))])])])):y("",!0)])])])])])]),_:1}))}},kt=Z(yt,[["__scopeId","data-v-dfa46d8c"]]);export{kt as default};
