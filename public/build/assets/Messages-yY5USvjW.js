import{_ as p}from"./AuthenticatedLayout-B9XOiBHM.js";import{q as y,r as m,z as h,A as f,o as s,w as x,d as e,a as t,F as v,g as b,f as _,t as r}from"./app-fy-Ga1OQ.js";import"./logo-DeNzv_1-.js";const k={class:"py-6 sm:py-12"},w={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},M={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},A={class:"p-4 sm:p-6 text-gray-900"},N={class:"mt-2"},q={key:0,class:"text-sm text-gray-500"},B={key:1,class:"text-sm text-gray-500"},F={key:2,class:"space-y-3 sm:space-y-4"},C={key:0,class:"absolute top-1 right-1 sm:top-2 sm:right-2 bg-red-500 text-white text-xs px-1 py-0.5 sm:px-2 sm:py-1 rounded",title:"New Message"},L={class:"font-medium text-gray-800 text-sm sm:text-base"},R={class:"text-gray-700 mt-2 text-sm sm:text-base"},S={class:"text-gray-500 mt-2 text-xs sm:text-sm"},X={key:1,class:"text-gray-600 italic mt-1 text-xs sm:text-sm"},H={__name:"Messages",setup(E){const l=y.create({headers:{"X-Requested-With":"XMLHttpRequest"}}),c=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content");c&&(l.defaults.headers.common["X-CSRF-TOKEN"]=c);const d=m([]),n=m(!1);async function u(){n.value=!0;try{const{data:o}=await l.get("/doctor/messages/api");d.value=Array.isArray(o)?o:[]}catch(o){console.error("Failed to load messages",o),d.value=[]}finally{n.value=!1}}return h(u),(o,i)=>(s(),f(p,null,{header:x(()=>[...i[0]||(i[0]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Messages ",-1)])]),default:x(()=>[e("div",k,[e("div",w,[e("div",M,[e("div",A,[i[1]||(i[1]=e("h3",{class:"text-base sm:text-lg font-medium mb-4"}," All Messages from Admin ",-1)),e("div",N,[n.value?(s(),t("div",q," Loading... ")):d.value.length===0?(s(),t("div",B," No messages yet. ")):(s(),t("div",F,[(s(!0),t(v,null,b(d.value,(a,g)=>(s(),t("div",{key:a.id,class:"bg-gray-50 p-3 sm:p-4 rounded-lg border relative"},[g===0?(s(),t("span",C," New ")):_("",!0),e("div",L,r(a.admin_name),1),e("div",R,r(a.message),1),e("div",S,r(a.created_at),1),a.schedule_info?(s(),t("div",X,r(a.schedule_info),1)):_("",!0)]))),128))]))])])])])])]),_:1}))}};export{H as default};
