import{r as p,c as f,a as d,b as h,u as y,h as z,w as b,d as t,t as o,e as _,v as w,f as k,o as c,F as C,g as V,n as j,i as B,l as A,j as S}from"./app-BpxnDeLn.js";import{_ as D}from"./AuthenticatedLayout--UafaNKn.js";import"./logo-DeNzv_1-.js";const N={class:"flex p-3 items-center justify-between"},F={class:"flex items-center space-x-3"},H={class:"text-sm text-gray-500 bg-gray-100 px-3 py-1 rounded-full"},T={class:"py-4"},$={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},L={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6"},U={class:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6"},I={class:"flex items-center"},q={class:"text-2xl font-bold text-gray-900"},E={class:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6"},Q={class:"flex items-center"},R={class:"text-2xl font-bold text-gray-900"},G={class:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6"},J={class:"flex items-center"},K={class:"text-2xl font-bold text-gray-900"},O={class:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6"},P={class:"flex items-center"},W={class:"text-2xl font-bold text-gray-900"},X={class:"bg-white rounded-2xl shadow-sm border border-gray-200 p-4 mb-6"},Y={class:"flex flex-col lg:flex-row gap-4 items-end"},Z={class:"flex-1 w-full"},tt={class:"relative"},et={class:"w-full lg:w-48"},st={class:"bg-white overflow-hidden rounded-2xl shadow-sm border border-gray-200"},ot={class:"px-6 py-4 border-b border-gray-200"},at={class:"flex items-center justify-between"},lt={class:"text-sm text-gray-500 bg-gray-100 px-3 py-1 rounded-full"},it={class:"overflow-x-auto"},nt={class:"min-w-full divide-y divide-gray-200"},rt={class:"bg-white divide-y divide-gray-200"},dt={class:"px-6 py-4"},ct={class:"flex items-center"},mt={class:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center"},xt={class:"text-white font-semibold text-sm"},ut={class:"ml-4"},pt={class:"text-sm font-semibold text-gray-900"},ht={class:"text-sm text-gray-500 capitalize"},vt={class:"px-6 py-4 whitespace-nowrap"},gt={class:"text-sm text-gray-900 font-medium"},ft={class:"text-xs text-gray-500"},yt={class:"px-6 py-4 whitespace-nowrap"},bt={class:"flex items-center"},_t={class:"flex-1"},wt={class:"text-sm font-semibold text-gray-900"},kt={class:"w-24 bg-gray-200 rounded-full h-2 mt-1"},Ct={class:"text-xs text-gray-500 mt-1"},Mt={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},zt={key:0,class:"text-center py-16"},Vt={class:"text-gray-500"},jt={class:"mt-2 text-sm text-gray-500 max-w-md mx-auto"},Dt={__name:"Index",props:{groupedAppointments:{type:Array,default:()=>[]}},setup(v){const l=p(""),M=p("all"),i=p(""),n=f(()=>{let a=v.groupedAppointments;if(l.value){const e=l.value.toLowerCase();a=a.filter(s=>s.doctor_name.toLowerCase().includes(e)||s.speciality.toLowerCase().includes(e)||s.date.includes(e))}return i.value&&(a=a.filter(e=>e.date===i.value)),a}),r=f(()=>{const a=n.value.length,e=n.value.reduce((x,u)=>x+u.booked,0),s=n.value.reduce((x,u)=>x+u.max,0),m=s>0?Math.round(e/s*100):0;return{total:a,totalBooked:e,totalCapacity:s,utilization:m}}),g=()=>{l.value="",M.value="all",i.value=""};return(a,e)=>(c(),d(C,null,[h(y(z),{title:"Appointments Management"}),h(D,null,{default:b(()=>[t("div",N,[e[2]||(e[2]=t("div",null,[t("h2",{class:"font-semibold text-2xl text-gray-900 leading-tight"}," Appointments Management "),t("p",{class:"text-gray-600 mt-1 text-sm"}," Manage and monitor all doctor appointments across the system ")],-1)),t("div",F,[t("span",H,o(r.value.total)+" entries ",1)])]),t("div",T,[t("div",$,[t("div",L,[t("div",U,[t("div",I,[e[4]||(e[4]=t("div",{class:"p-3 bg-blue-50 rounded-xl mr-4"},[t("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1)),t("div",null,[e[3]||(e[3]=t("p",{class:"text-sm font-medium text-gray-600"}," Total Sessions ",-1)),t("p",q,o(r.value.total),1)])])]),t("div",E,[t("div",Q,[e[6]||(e[6]=t("div",{class:"p-3 bg-green-50 rounded-xl mr-4"},[t("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])],-1)),t("div",null,[e[5]||(e[5]=t("p",{class:"text-sm font-medium text-gray-600"}," Total Bookings ",-1)),t("p",R,o(r.value.totalBooked),1)])])]),t("div",G,[t("div",J,[e[8]||(e[8]=t("div",{class:"p-3 bg-purple-50 rounded-xl mr-4"},[t("svg",{class:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])],-1)),t("div",null,[e[7]||(e[7]=t("p",{class:"text-sm font-medium text-gray-600"}," Total Capacity ",-1)),t("p",K,o(r.value.totalCapacity),1)])])]),t("div",O,[t("div",P,[e[10]||(e[10]=t("div",{class:"p-3 bg-amber-50 rounded-xl mr-4"},[t("svg",{class:"w-6 h-6 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])],-1)),t("div",null,[e[9]||(e[9]=t("p",{class:"text-sm font-medium text-gray-600"}," Utilization Rate ",-1)),t("p",W,o(r.value.utilization)+"% ",1)])])])]),t("div",X,[t("div",Y,[t("div",Z,[e[12]||(e[12]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Search Appointments ",-1)),t("div",tt,[e[11]||(e[11]=t("svg",{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),_(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>l.value=s),type:"text",placeholder:"Search by doctor name, speciality, or date...",class:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors"},null,512),[[w,l.value]])])]),t("div",et,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Date ",-1)),_(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>i.value=s),type:"date",class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors"},null,512),[[w,i.value]])]),t("button",{onClick:g,class:"px-6 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors font-medium whitespace-nowrap"}," Clear Filters ")])]),t("div",st,[t("div",ot,[t("div",at,[e[14]||(e[14]=t("h3",{class:"text-lg font-semibold text-gray-900"}," Doctor Appointment Sessions ",-1)),t("span",lt," Showing "+o(n.value.length)+" of "+o(v.groupedAppointments.length)+" sessions ",1)])]),t("div",it,[t("table",nt,[e[16]||(e[16]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider"}," Doctor Information "),t("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider"}," Session Date "),t("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider"}," Capacity "),t("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider"}," Actions ")])],-1)),t("tbody",rt,[(c(!0),d(C,null,V(n.value,s=>(c(),d("tr",{key:`${s.doctor_id}-${s.date}`,class:"hover:bg-gray-50/50 transition-colors"},[t("td",dt,[t("div",ct,[t("div",mt,[t("span",xt,o(s.doctor_name.split(" ").map(m=>m[0]).join("").toUpperCase()),1)]),t("div",ut,[t("div",pt,o(s.doctor_name),1),t("div",ht,o(s.speciality),1)])])]),t("td",vt,[t("div",gt,o(new Date(s.date).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"})),1),t("div",ft,o(s.date),1)]),t("td",yt,[t("div",bt,[t("div",_t,[t("div",wt,o(s.booked)+" / "+o(s.max),1),t("div",kt,[t("div",{class:B(["bg-indigo-600 h-2 rounded-full transition-all duration-300",{"bg-red-500":s.booked/s.max>.9,"bg-amber-500":s.booked/s.max>.7&&s.booked/s.max<=.9,"bg-green-500":s.booked/s.max<=.7}]),style:j({width:`${Math.min(100,s.booked/s.max*100)}%`})},null,6)]),t("div",Ct,o(Math.round(s.booked/s.max*100))+"% booked ",1)])])]),t("td",Mt,[h(y(A),{href:`/admin/appointments/${s.doctor_id}/${s.date}`,class:"inline-flex items-center px-4 py-2 bg-indigo-50 text-indigo-700 text-sm font-medium rounded-xl hover:bg-indigo-100 transition-colors"},{default:b(()=>[...e[15]||(e[15]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),S(" View Details ",-1)])]),_:1},8,["href"])])]))),128))])])]),n.value.length===0?(c(),d("div",zt,[t("div",Vt,[e[17]||(e[17]=t("svg",{class:"mx-auto h-16 w-16 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),e[18]||(e[18]=t("h3",{class:"mt-4 text-lg font-medium text-gray-900"}," No appointments found ",-1)),t("p",jt,o(l.value||i.value?"No appointments match your current filters. Try adjusting your search criteria.":"No appointments have been scheduled yet."),1),l.value||i.value?(c(),d("button",{key:0,onClick:g,class:"mt-4 inline-flex items-center px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-xl hover:bg-indigo-700 transition-colors"}," Clear all filters ")):k("",!0)])])):k("",!0)])])])]),_:1})],64))}};export{Dt as default};
