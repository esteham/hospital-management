import{_ as h}from"./AuthenticatedLayout-5_Rn2fbJ.js";import{k as y,q as m,y as p,z as v,w as _,b as e,c as s,o as t,F as f,e as k,d as u,t as n}from"./app-BoKJi182.js";import"./logo-DeNzv_1-.js";const w={class:"py-12"},b={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},M={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},N={class:"p-6 text-gray-900"},A={class:"mt-2"},q={key:0,class:"text-sm text-gray-500"},B={key:1,class:"text-sm text-gray-500"},F={key:2,class:"space-y-4"},C={key:0,class:"absolute top-2 right-2 bg-red-500 text-white text-xs px-2 py-1 rounded",title:"New Message"},L={class:"font-medium text-gray-800"},R={class:"text-gray-700 mt-2"},S={class:"text-gray-500 mt-2 text-sm"},X={key:1,class:"text-gray-600 italic mt-1 text-sm"},H={__name:"Messages",setup(E){const r=y.create({headers:{"X-Requested-With":"XMLHttpRequest"}}),c=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content");c&&(r.defaults.headers.common["X-CSRF-TOKEN"]=c);const d=m([]),l=m(!1);async function g(){l.value=!0;try{const{data:o}=await r.get("/doctor/messages/api");d.value=Array.isArray(o)?o:[]}catch(o){console.error("Failed to load messages",o),d.value=[]}finally{l.value=!1}}return p(g),(o,i)=>(t(),v(h,null,{header:_(()=>[...i[0]||(i[0]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Messages ",-1)])]),default:_(()=>[e("div",w,[e("div",b,[e("div",M,[e("div",N,[i[1]||(i[1]=e("h3",{class:"text-lg font-medium mb-4"}," All Messages from Admin ",-1)),e("div",A,[l.value?(t(),s("div",q," Loading... ")):d.value.length===0?(t(),s("div",B," No messages yet. ")):(t(),s("div",F,[(t(!0),s(f,null,k(d.value,(a,x)=>(t(),s("div",{key:a.id,class:"bg-gray-50 p-4 rounded-lg border relative"},[x===0?(t(),s("span",C," New ")):u("",!0),e("div",L,n(a.admin_name),1),e("div",R,n(a.message),1),e("div",S,n(a.created_at),1),a.schedule_info?(t(),s("div",X,n(a.schedule_info),1)):u("",!0)]))),128))]))])])])])])]),_:1}))}};export{H as default};
