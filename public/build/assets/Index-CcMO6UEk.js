import{r as h,c as g,a as d,o as r,b as m,u as v,h as D,w as p,d as t,t as o,e as _,v as w,f as k,F as y,g as M,n as C,i as z,l as V,j}from"./app-fy-Ga1OQ.js";import{_ as $}from"./AuthenticatedLayout-B9XOiBHM.js";import"./logo-DeNzv_1-.js";const A={class:"flex flex-col space-y-3 sm:flex-row sm:items-center sm:justify-between sm:space-y-0 p-3"},N={class:"flex items-center space-x-3"},F={class:"text-sm text-gray-500 bg-gray-100 px-3 py-1 rounded-full"},H={class:"py-4"},L={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},T={class:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-4 gap-2 sm:gap-6 mb-4"},U={class:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6"},I={class:"flex items-center"},q={class:"text-2xl font-bold text-gray-900"},E={class:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6"},O={class:"flex items-center"},Q={class:"text-2xl font-bold text-gray-900"},R={class:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6"},G={class:"flex items-center"},J={class:"text-2xl font-bold text-gray-900"},K={class:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6"},P={class:"flex items-center"},W={class:"text-2xl font-bold text-gray-900"},X={class:"bg-white rounded-2xl shadow-sm border border-gray-200 p-4 mb-6"},Y={class:"flex flex-col sm:flex-row gap-4 items-end"},Z={class:"flex-1 w-full"},tt={class:"relative"},et={class:"w-full sm:w-48"},st={class:"bg-white overflow-hidden rounded-2xl shadow-sm border border-gray-200"},ot={class:"px-4 py-4 border-b border-gray-200"},at={class:"flex items-center justify-between"},it={class:"text-sm text-gray-500 bg-gray-100 px-3 py-1 rounded-full"},lt={class:"hidden lg:block overflow-x-auto"},nt={class:"min-w-full divide-y divide-gray-200"},dt={class:"bg-white divide-y divide-gray-200"},rt={class:"px-4 py-2"},ct={class:"flex items-center"},mt={class:"ml-4"},xt={class:"text-sm font-semibold text-gray-900"},ut={class:"text-sm text-gray-500 capitalize"},ht={class:"px-4 py-2 whitespace-nowrap"},vt={class:"text-sm text-gray-900 font-medium"},pt={class:"text-xs text-gray-500"},yt={class:"px-4 py-2 whitespace-nowrap"},ft={class:"flex items-center"},bt={class:"flex-1"},gt={class:"text-sm font-semibold text-gray-900"},_t={class:"w-24 bg-gray-200 rounded-full h-2 mt-1"},wt={class:"text-xs text-gray-500 mt-1"},kt={class:"px-4 py-2 whitespace-nowrap text-sm font-medium"},Mt={class:"lg:hidden"},Ct={class:"divide-y divide-gray-200"},zt={class:"flex justify-between items-start mb-3"},Vt={class:"text-sm font-semibold text-gray-900"},jt={class:"text-sm text-gray-500 capitalize"},Bt={class:"flex justify-between items-center mb-2"},St={class:"text-sm text-gray-900 font-medium"},Dt={class:"text-xs text-gray-500"},$t={class:"flex items-center"},At={class:"flex-1"},Nt={class:"text-sm font-semibold text-gray-900 mb-1"},Ft={class:"w-full bg-gray-200 rounded-full h-2"},Ht={class:"text-xs text-gray-500 mt-1"},Lt={key:0,class:"text-center py-16"},Tt={class:"text-gray-500"},Ut={class:"mt-2 text-sm text-gray-500 max-w-md mx-auto"},Ot={__name:"Index",props:{groupedAppointments:{type:Array,default:()=>[]}},setup(f){const i=h(""),B=h("all"),l=h(new Date().toISOString().slice(0,10)),n=g(()=>{let a=f.groupedAppointments;if(i.value){const s=i.value.toLowerCase();a=a.filter(e=>e.doctor_name.toLowerCase().includes(s)||e.speciality.toLowerCase().includes(s)||e.date.includes(s))}return l.value&&(a=a.filter(s=>s.date===l.value)),a}),c=g(()=>{const a=n.value.length,s=n.value.reduce((x,u)=>x+u.booked,0),e=n.value.reduce((x,u)=>x+u.max,0),S=e>0?Math.round(s/e*100):0;return{total:a,totalBooked:s,totalCapacity:e,utilization:S}}),b=()=>{i.value="",B.value="all",l.value=""};return(a,s)=>(r(),d(y,null,[m(v(D),{title:"Appointments Management"}),m($,null,{default:p(()=>[t("div",A,[s[2]||(s[2]=t("div",null,[t("h2",{class:"font-semibold text-xl sm:text-2xl text-gray-900 leading-tight"}," Appointments Management "),t("p",{class:"text-gray-600 mt-1 text-sm"}," Manage and monitor all doctor appointments across the system ")],-1)),t("div",N,[t("span",F,o(c.value.total)+" entries ",1)])]),t("div",H,[t("div",L,[t("div",T,[t("div",U,[t("div",I,[s[4]||(s[4]=t("div",{class:"p-3 bg-blue-50 rounded-xl mr-4"},[t("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1)),t("div",null,[s[3]||(s[3]=t("p",{class:"text-sm font-medium text-gray-600"}," Total Sessions ",-1)),t("p",q,o(c.value.total),1)])])]),t("div",E,[t("div",O,[s[6]||(s[6]=t("div",{class:"p-3 bg-green-50 rounded-xl mr-4"},[t("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])],-1)),t("div",null,[s[5]||(s[5]=t("p",{class:"text-sm font-medium text-gray-600"}," Total Bookings ",-1)),t("p",Q,o(c.value.totalBooked),1)])])]),t("div",R,[t("div",G,[s[8]||(s[8]=t("div",{class:"p-3 bg-purple-50 rounded-xl mr-4"},[t("svg",{class:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])],-1)),t("div",null,[s[7]||(s[7]=t("p",{class:"text-sm font-medium text-gray-600"}," Total Capacity ",-1)),t("p",J,o(c.value.totalCapacity),1)])])]),t("div",K,[t("div",P,[s[10]||(s[10]=t("div",{class:"p-3 bg-amber-50 rounded-xl mr-4"},[t("svg",{class:"w-6 h-6 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])],-1)),t("div",null,[s[9]||(s[9]=t("p",{class:"text-sm font-medium text-gray-600"}," Utilization Rate ",-1)),t("p",W,o(c.value.utilization)+"% ",1)])])])]),t("div",X,[t("div",Y,[t("div",Z,[s[12]||(s[12]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Search Appointments ",-1)),t("div",tt,[s[11]||(s[11]=t("svg",{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),_(t("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>i.value=e),type:"text",placeholder:"Search by doctor name, speciality, or date...",class:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors"},null,512),[[w,i.value]])])]),t("div",et,[s[13]||(s[13]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Date ",-1)),_(t("input",{"onUpdate:modelValue":s[1]||(s[1]=e=>l.value=e),type:"date",class:"w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors"},null,512),[[w,l.value]])]),t("button",{onClick:b,class:"px-4 sm:px-6 py-2 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors font-medium whitespace-nowrap"}," Clear Filters ")])]),t("div",st,[t("div",ot,[t("div",at,[s[14]||(s[14]=t("h3",{class:"text-lg font-semibold text-gray-900"}," Doctor Appointment Sessions ",-1)),t("span",it," Showing "+o(n.value.length)+" of "+o(f.groupedAppointments.length)+" sessions ",1)])]),t("div",lt,[t("table",nt,[s[16]||(s[16]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-4 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider"}," Doctor Information "),t("th",{class:"px-4 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider"}," Session Date "),t("th",{class:"px-4 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider"}," Capacity "),t("th",{class:"px-4 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider"}," Actions ")])],-1)),t("tbody",dt,[(r(!0),d(y,null,M(n.value,e=>(r(),d("tr",{key:`${e.doctor_id}-${e.date}`,class:"hover:bg-gray-50/50 transition-colors"},[t("td",rt,[t("div",ct,[t("div",mt,[t("div",xt,o(e.doctor_name),1),t("div",ut,o(e.speciality),1)])])]),t("td",ht,[t("div",vt,o(new Date(e.date).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"})),1),t("div",pt,o(e.date),1)]),t("td",yt,[t("div",ft,[t("div",bt,[t("div",gt,o(e.booked)+" / "+o(e.max),1),t("div",_t,[t("div",{class:z(["bg-indigo-600 h-2 rounded-full transition-all duration-300",{"bg-red-500":e.booked/e.max>.9,"bg-amber-500":e.booked/e.max>.7&&e.booked/e.max<=.9,"bg-green-500":e.booked/e.max<=.7}]),style:C({width:`${Math.min(100,e.booked/e.max*100)}%`})},null,6)]),t("div",wt,o(Math.round(e.booked/e.max*100))+"% booked ",1)])])]),t("td",kt,[m(v(V),{href:`/admin/appointments/${e.doctor_id}/${e.date}`,class:"inline-flex items-center px-4 py-2 bg-indigo-50 text-indigo-700 text-sm font-medium rounded-xl hover:bg-indigo-100 transition-colors"},{default:p(()=>[...s[15]||(s[15]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),j(" View Details ",-1)])]),_:1},8,["href"])])]))),128))])])]),t("div",Mt,[t("div",Ct,[(r(!0),d(y,null,M(n.value,e=>(r(),d("div",{key:`${e.doctor_id}-${e.date}`,class:"p-4 hover:bg-gray-50/50 transition-colors"},[t("div",zt,[t("div",null,[t("div",Vt,o(e.doctor_name),1),t("div",jt,o(e.speciality),1)]),m(v(V),{href:`/admin/appointments/${e.doctor_id}/${e.date}`,class:"inline-flex items-center px-3 py-1 bg-indigo-50 text-indigo-700 text-xs font-medium rounded-lg hover:bg-indigo-100 transition-colors"},{default:p(()=>[...s[17]||(s[17]=[t("svg",{class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),j(" View ",-1)])]),_:1},8,["href"])]),t("div",Bt,[t("div",St,o(new Date(e.date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})),1),t("div",Dt,o(e.date),1)]),t("div",$t,[t("div",At,[t("div",Nt,o(e.booked)+" / "+o(e.max)+" booked ",1),t("div",Ft,[t("div",{class:z(["bg-indigo-600 h-2 rounded-full transition-all duration-300",{"bg-red-500":e.booked/e.max>.9,"bg-amber-500":e.booked/e.max>.7&&e.booked/e.max<=.9,"bg-green-500":e.booked/e.max<=.7}]),style:C({width:`${Math.min(100,e.booked/e.max*100)}%`})},null,6)]),t("div",Ht,o(Math.round(e.booked/e.max*100))+"% capacity ",1)])])]))),128))])]),n.value.length===0?(r(),d("div",Lt,[t("div",Tt,[s[18]||(s[18]=t("svg",{class:"mx-auto h-16 w-16 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),s[19]||(s[19]=t("h3",{class:"mt-4 text-lg font-medium text-gray-900"}," No appointments found ",-1)),t("p",Ut,o(i.value||l.value?"No appointments match your current filters. Try adjusting your search criteria.":"No appointments have been scheduled yet."),1),i.value||l.value?(r(),d("button",{key:0,onClick:b,class:"mt-4 inline-flex items-center px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-xl hover:bg-indigo-700 transition-colors"}," Clear all filters ")):k("",!0)])])):k("",!0)])])])]),_:1})],64))}};export{Ot as default};
