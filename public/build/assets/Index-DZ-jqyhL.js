import{r as f,c as _,A as F,w as N,d as e,t as l,e as h,v as U,a,o as n,F as b,g as k,p as C,f as x,j as v,i as z}from"./app-D67QGVP0.js";import{_ as H}from"./AuthenticatedLayout-BF1mT5Lv.js";import"./logo-DeNzv_1-.js";const I={class:"flex p-4 items-center justify-between"},R={class:"flex items-center space-x-3"},E={class:"text-sm text-gray-500 bg-gray-100 px-3 py-1 rounded-full"},$={class:"py-4"},O={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},q={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-4"},Q={class:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6"},G={class:"flex items-center"},J={class:"text-2xl font-bold text-gray-900"},K={class:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6"},W={class:"flex items-center"},X={class:"text-2xl font-bold text-gray-900"},Y={class:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6"},Z={class:"flex items-center"},ee={class:"text-2xl font-bold text-gray-900"},te={class:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6"},se={class:"flex items-center"},oe={class:"text-2xl font-bold text-gray-900"},le={class:"bg-white rounded-2xl shadow-sm border border-gray-200 p-4 mb-4"},ne={class:"flex flex-col lg:flex-row gap-4 items-end"},ae={class:"flex-1 w-full"},re={class:"relative"},ie={class:"w-full lg:w-48"},de=["value"],ce={class:"w-full lg:w-48"},ue=["value"],me={class:"bg-white overflow-hidden rounded-2xl shadow-sm border border-gray-200"},pe={class:"px-6 py-4 border-b border-gray-200"},ge={class:"flex items-center justify-between"},xe={class:"text-sm text-gray-500 bg-gray-100 px-3 py-1 rounded-full"},fe={class:"overflow-x-auto"},ve={class:"min-w-full divide-y divide-gray-200"},ye={class:"bg-white divide-y divide-gray-200"},he={class:"px-6 py-4"},be={class:"flex items-start space-x-4"},ke={class:"flex-shrink-0 w-12 h-12 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center"},we={class:"text-white font-semibold text-sm"},_e={class:"flex-1 min-w-0"},Ce={class:"flex items-center space-x-2 mb-2"},Be={class:"text-sm font-semibold text-gray-900 truncate"},Me={class:"px-2 py-1 bg-blue-50 text-blue-700 text-xs font-medium rounded-full"},je={class:"text-sm text-gray-600 mb-1"},Pe={class:"text-xs text-gray-500"},Ae={class:"px-6 py-4"},Te={class:"space-y-2"},Le={class:"flex justify-between items-center"},Ve={class:"text-sm font-semibold text-gray-900"},Se={class:"flex justify-between items-center"},De={class:"text-sm font-medium text-gray-700"},Fe={key:0,class:"mt-2"},Ne={class:"text-xs text-gray-500"},Ue={class:"px-6 py-4 whitespace-nowrap"},ze={class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},He=["innerHTML"],Ie={class:"px-6 py-4 whitespace-nowrap"},Re=["href"],Ee={class:"px-6 py-4 whitespace-nowrap"},$e={class:"flex items-center space-x-3"},Oe={class:"flex items-center space-x-1"},qe=["onClick"],Qe=["onClick"],Ge=["onClick"],Je={key:0,class:"text-center py-16"},Ke={class:"text-gray-500"},We={class:"mt-2 text-sm text-gray-500 max-w-md mx-auto"},tt={__name:"Index",props:{packageBookings:Array},setup(B){const p=f(B.packageBookings),d=f(""),c=f("all"),u=f("all"),M=[{value:"all",label:"All Status"},{value:"pending",label:"Pending"},{value:"confirmed",label:"Confirmed"},{value:"cancelled",label:"Cancelled"}],j=[{value:"all",label:"All Payment Types"},{value:"cash",label:"Cash"},{value:"card",label:"Card"},{value:"online",label:"Online"}],P={pending:"bg-amber-50 text-amber-700 ring-amber-600/20",confirmed:"bg-emerald-50 text-emerald-700 ring-emerald-600/20",cancelled:"bg-rose-50 text-rose-700 ring-rose-600/20"},A={pending:`
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
              d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
    `,confirmed:`
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
              d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
    `,cancelled:`
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
              d="M6 18L18 6M6 6l12 12"/>
    `},r=_(()=>{let o=p.value;if(d.value){const t=d.value.toLowerCase();o=o.filter(s=>s.user.name.toLowerCase().includes(t)||s.health_check.name.toLowerCase().includes(t)||s.payment_type.toLowerCase().includes(t))}return c.value!=="all"&&(o=o.filter(t=>t.status===c.value)),u.value!=="all"&&(o=o.filter(t=>t.payment_type===u.value)),o}),g=_(()=>{const o=r.value.length,t=r.value.reduce((m,D)=>m+parseFloat(D.amount_paid),0),s=r.value.filter(m=>m.status==="pending").length,i=r.value.filter(m=>m.status==="confirmed").length,S=r.value.filter(m=>m.status==="cancelled").length;return{total:o,totalRevenue:t,pending:s,confirmed:i,cancelled:S}}),T=async o=>{if(confirm("Are you sure you want to delete this package booking? This action cannot be undone."))try{await axios.delete(route("admin.package-bookings.destroy",o)),p.value=p.value.filter(t=>t.id!==o),console.log("Package booking deleted successfully.")}catch(t){console.error("Error:",t),alert("An error occurred while deleting the package booking.")}},L=async o=>{if(confirm("Are you sure you want to confirm this package booking?"))try{await axios.put(route("admin.package-bookings.update",o),{status:"confirmed"});const t=p.value.find(s=>s.id===o);t&&(t.status="confirmed"),console.log("Package booking confirmed successfully.")}catch(t){console.error("Error:",t),alert("An error occurred while confirming the package booking.")}},V=async o=>{const t=prompt("Please enter the reason for cancellation:");if(t!==null&&t.trim()!=="")try{await axios.put(route("admin.package-bookings.update",o),{status:"cancelled",cancellation_reason:t.trim()});const s=p.value.find(i=>i.id===o);s&&(s.status="cancelled",s.cancellation_reason=t.trim()),console.log("Package booking cancelled successfully.")}catch(s){console.error("Error:",s),alert("An error occurred while cancelling the package booking.")}else t===null||alert("Cancellation reason is required.")},w=()=>{d.value="",c.value="all",u.value="all"},y=o=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(o);return(o,t)=>(n(),F(H,{title:"Package Bookings Management"},{default:N(()=>[e("div",I,[t[3]||(t[3]=e("div",null,[e("h2",{class:"font-semibold text-2xl text-gray-900 leading-tight"}," Package Bookings Management "),e("p",{class:"text-gray-600 mt-1 text-sm"}," Manage and monitor all health package bookings across the system ")],-1)),e("div",R,[e("span",E,l(g.value.total)+" bookings ",1)])]),e("div",$,[e("div",O,[e("div",q,[e("div",Q,[e("div",G,[t[5]||(t[5]=e("div",{class:"p-3 bg-blue-50 rounded-xl mr-4"},[e("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})])],-1)),e("div",null,[t[4]||(t[4]=e("p",{class:"text-sm font-medium text-gray-600"}," Total Bookings ",-1)),e("p",J,l(g.value.total),1)])])]),e("div",K,[e("div",W,[t[7]||(t[7]=e("div",{class:"p-3 bg-emerald-50 rounded-xl mr-4"},[e("svg",{class:"w-6 h-6 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})])],-1)),e("div",null,[t[6]||(t[6]=e("p",{class:"text-sm font-medium text-gray-600"}," Total Revenue ",-1)),e("p",X,l(y(g.value.totalRevenue)),1)])])]),e("div",Y,[e("div",Z,[t[9]||(t[9]=e("div",{class:"p-3 bg-amber-50 rounded-xl mr-4"},[e("svg",{class:"w-6 h-6 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",null,[t[8]||(t[8]=e("p",{class:"text-sm font-medium text-gray-600"}," Pending ",-1)),e("p",ee,l(g.value.pending),1)])])]),e("div",te,[e("div",se,[t[11]||(t[11]=e("div",{class:"p-3 bg-rose-50 rounded-xl mr-4"},[e("svg",{class:"w-6 h-6 text-rose-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})])],-1)),e("div",null,[t[10]||(t[10]=e("p",{class:"text-sm font-medium text-gray-600"}," Cancelled ",-1)),e("p",oe,l(g.value.cancelled),1)])])])]),e("div",le,[e("div",ne,[e("div",ae,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Search Bookings ",-1)),e("div",re,[t[12]||(t[12]=e("svg",{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),h(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>d.value=s),type:"text",placeholder:"Search by user name, package name, or payment type...",class:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors"},null,512),[[U,d.value]])])]),e("div",ie,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Status ",-1)),h(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>c.value=s),class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors"},[(n(),a(b,null,k(M,s=>e("option",{key:s.value,value:s.value},l(s.label),9,de)),64))],512),[[C,c.value]])]),e("div",ce,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Payment Type ",-1)),h(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>u.value=s),class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors"},[(n(),a(b,null,k(j,s=>e("option",{key:s.value,value:s.value},l(s.label),9,ue)),64))],512),[[C,u.value]])]),e("button",{onClick:w,class:"px-6 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors font-medium whitespace-nowrap"}," Clear Filters ")])]),e("div",me,[e("div",pe,[e("div",ge,[t[16]||(t[16]=e("h3",{class:"text-lg font-semibold text-gray-900"}," Package Bookings ",-1)),e("span",xe," Showing "+l(r.value.length)+" of "+l(p.value.length)+" bookings ",1)])]),e("div",fe,[e("table",ve,[t[24]||(t[24]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider"}," Booking Information "),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider"}," Payment Details "),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider"}," Status "),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider"}," Document "),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",ye,[(n(!0),a(b,null,k(r.value,s=>(n(),a("tr",{key:s.id,class:"hover:bg-gray-50/50 transition-colors"},[e("td",he,[e("div",be,[e("div",ke,[e("span",we,l(s.user.name.split(" ").map(i=>i[0]).join("").toUpperCase()),1)]),e("div",_e,[e("div",Ce,[e("p",Be,l(s.user.name),1),e("span",Me,l(s.payment_type),1)]),e("p",je,l(s.health_check.name),1),e("p",Pe," Booking ID: "+l(s.id),1)])])]),e("td",Ae,[e("div",Te,[e("div",Le,[t[17]||(t[17]=e("span",{class:"text-sm text-gray-600"},"Amount Paid:",-1)),e("span",Ve,l(y(s.amount_paid)),1)]),e("div",Se,[t[18]||(t[18]=e("span",{class:"text-sm text-gray-600"},"Total Amount:",-1)),e("span",De,l(y(s.total_amount)),1)]),s.cancellation_reason?(n(),a("div",Fe,[e("p",Ne,[t[19]||(t[19]=e("strong",null,"Cancellation Reason:",-1)),v(" "+l(s.cancellation_reason),1)])])):x("",!0)])]),e("td",Ue,[e("span",{class:z(["px-3 py-1.5 rounded-full text-sm font-medium ring-1 ring-inset flex items-center space-x-2",P[s.status]])},[(n(),a("svg",ze,[e("g",{innerHTML:A[s.status]},null,8,He)])),e("span",null,l(s.status.charAt(0).toUpperCase()+s.status.slice(1)),1)],2)]),e("td",Ie,[e("a",{href:o.route("admin.package-bookings.download-pdf",s),target:"_blank",class:"inline-flex items-center p-2 bg-gray-50 text-gray-600 rounded-lg hover:bg-gray-100 transition-colors",title:"Download Receipt"},[...t[20]||(t[20]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),v("Download ",-1)])],8,Re)]),e("td",Ee,[e("div",$e,[e("div",Oe,[s.status==="pending"?(n(),a("button",{key:0,onClick:i=>L(s.id),class:"inline-flex items-center px-3 py-1.5 bg-emerald-50 text-emerald-700 text-sm font-medium rounded-lg hover:bg-emerald-100 transition-colors",title:"Confirm Booking"},[...t[21]||(t[21]=[e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),v(" Confirm ",-1)])],8,qe)):x("",!0),s.status==="pending"?(n(),a("button",{key:1,onClick:i=>V(s.id),class:"inline-flex items-center px-3 py-1.5 bg-amber-50 text-amber-700 text-sm font-medium rounded-lg hover:bg-amber-100 transition-colors",title:"Cancel Booking"},[...t[22]||(t[22]=[e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),v(" Cancel ",-1)])],8,Qe)):x("",!0),e("button",{onClick:i=>T(s.id),class:"inline-flex items-center p-2 bg-rose-50 text-rose-600 rounded-lg hover:bg-rose-100 transition-colors",title:"Delete Booking"},[...t[23]||(t[23]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Ge)])])])]))),128))])])]),r.value.length===0?(n(),a("div",Je,[e("div",Ke,[t[25]||(t[25]=e("svg",{class:"mx-auto h-16 w-16 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1)),t[26]||(t[26]=e("h3",{class:"mt-4 text-lg font-medium text-gray-900"}," No package bookings found ",-1)),e("p",We,l(d.value||c.value!=="all"||u.value!=="all"?"No bookings match your current filters. Try adjusting your search criteria.":"No package bookings have been made yet."),1),d.value||c.value!=="all"||u.value!=="all"?(n(),a("button",{key:0,onClick:w,class:"mt-4 inline-flex items-center px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-xl hover:bg-indigo-700 transition-colors"}," Clear all filters ")):x("",!0)])])):x("",!0)])])])]),_:1}))}};export{tt as default};
