import{L as T,q as b,s as K,p as L,y as W,z as A,w as E,b as e,a as i,u as o,t as u,C as ee,c as f,d as w,o as p,f as g,j as v,F as B,e as H,v as te,A as k}from"./app-DYv5z1ok.js";import{_ as se}from"./AuthenticatedLayout-C3XYEMCh.js";import{a as j}from"./api-NzWOMKz-.js";import{_ as ae}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./logo-DeNzv_1-.js";/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=d=>d.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),le=d=>d.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,l,c)=>c?c.toUpperCase():l.toLowerCase()),ne=d=>{const r=le(d);return r.charAt(0).toUpperCase()+r.slice(1)},ie=(...d)=>d.filter((r,l,c)=>!!r&&r.trim()!==""&&c.indexOf(r)===l).join(" ").trim(),q=d=>d==="";/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var C={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=({name:d,iconNode:r,absoluteStrokeWidth:l,"absolute-stroke-width":c,strokeWidth:m,"stroke-width":y,size:x=C.width,color:n=C.stroke,...M},{slots:_})=>T("svg",{...C,...M,width:x,height:x,stroke:n,"stroke-width":q(l)||q(c)||l===!0||c===!0?Number(m||y||C["stroke-width"])*24/Number(x):m||y||C["stroke-width"],class:ie("lucide",M.class,...d?[`lucide-${I(ne(d))}-icon`,`lucide-${I(d)}`]:["lucide-icon"])},[...r.map($=>T(...$)),..._.default?[_.default()]:[]]);/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h=(d,r)=>(l,{slots:c,attrs:m})=>T(oe,{...m,...l,iconNode:r,name:d},c);/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=h("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=h("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=h("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=h("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=h("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=h("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=h("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=h("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),re={class:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50/30"},ce={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},ue={class:"space-y-6"},pe={class:"flex justify-between items-center"},me={class:"flex items-center gap-4"},ye={class:"flex items-center gap-2 text-sm text-gray-600 bg-white px-3 py-2 rounded-lg border"},xe=["disabled"],fe={key:0,class:"bg-white rounded-2xl shadow-sm border border-gray-200/80 p-6 space-y-6 backdrop-blur-sm"},he={class:"flex items-center justify-between"},_e={class:"text-xl font-semibold text-gray-900"},ge={key:0,class:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},ve={class:"grid md:grid-cols-2 lg:grid-cols-3 gap-6"},be={class:"space-y-2"},we={class:"flex items-center gap-2 text-sm font-medium text-gray-700"},ke=["value"],Ce={class:"space-y-2"},Me={class:"flex items-center gap-2 text-sm font-medium text-gray-700"},Se={class:"space-y-2"},je={class:"flex items-center gap-2 text-sm font-medium text-gray-700"},$e={class:"space-y-2"},Ve={class:"space-y-2"},De={class:"flex items-center gap-2 text-sm font-medium text-gray-700"},Le={class:"space-y-2"},Ue={class:"flex items-center gap-2 text-sm font-medium text-gray-700"},Fe={class:"relative"},Te={class:"flex gap-3 pt-4 border-t border-gray-200"},Ne=["disabled"],Ae={class:"bg-white rounded-2xl shadow-sm border border-gray-200/80 overflow-hidden"},Ee={class:"overflow-hidden"},Be={class:"w-full"},He={class:"divide-y divide-gray-200/80"},Ie={key:0},qe={colspan:"6",class:"px-6 py-12 text-center"},Oe={class:"flex flex-col items-center justify-center gap-3"},Pe={class:"px-6 py-4 whitespace-nowrap"},ze={class:"flex items-center gap-3"},Ze={class:"font-medium text-gray-900"},Ge={class:"px-6 py-4 whitespace-nowrap"},Re={class:"flex items-center gap-2 text-gray-700"},Je={class:"px-6 py-4 whitespace-nowrap text-gray-600"},Qe={class:"px-6 py-4 whitespace-nowrap"},Xe={class:"flex items-center gap-2 text-gray-700"},Ye={class:"px-6 py-4 whitespace-nowrap"},Ke={class:"flex items-center gap-2 text-gray-700"},We={class:"px-6 py-4 whitespace-nowrap text-right"},et={class:"flex justify-end gap-2 group-hover:opacity-100 transition-opacity"},tt=["onClick"],st=["onClick"],at={key:1},lt={colspan:"6",class:"px-6 py-16 text-center"},nt={class:"flex flex-col items-center justify-center gap-4 text-gray-500"},it={__name:"Index",setup(d){const r=[{v:"sat",t:"Saturday"},{v:"sun",t:"Sunday"},{v:"mon",t:"Monday"},{v:"tue",t:"Tuesday"},{v:"wed",t:"Wednesday"},{v:"thu",t:"Thursday"},{v:"fri",t:"Friday"}],l=b([]),c=b(!1),m=b(!1),y=b(null),x=b(!1),n=K({day_of_week:"sat",start_time:"09:00",end_time:"13:00",slot_minutes:15,max_patients_per_day:20,fee:500}),M=L(()=>r),_=L(()=>y.value!==null),$=L(()=>l.value.length>0);function S(a){if(!a)return a;if(/^\d{2}:\d{2}:\d{2}$/.test(a))return a.slice(0,5);const t=a.match(/^(\d{1,2}):(\d{2})/);return t?`${t[1].padStart(2,"0")}:${t[2]}`:a}async function R(){c.value=!0;try{const{data:a}=await j.get("/doctor/schedules/list");l.value=a}catch(a){alert(a.response?.data?.message||"Failed to load schedules.")}finally{c.value=!1}}function V(){y.value=null,x.value=!1,Object.assign(n,{day_of_week:"sat",start_time:"09:00",end_time:"13:00",slot_minutes:15,max_patients_per_day:20,fee:500})}function N(){V(),x.value=!0}async function J(){m.value=!0;const a={...n,start_time:S(n.start_time),end_time:S(n.end_time)};try{if(y.value){const{data:t}=await j.put(`/doctor/schedules/${y.value.id}`,a),s=l.value.findIndex(D=>D.id===y.value.id);s>-1&&(l.value[s]=t)}else{const{data:t}=await j.post("/doctor/schedules",a);l.value.push(t)}V()}catch(t){alert(t.response?.data?.message||"Validation error")}finally{m.value=!1}}function Q(a){y.value=a,x.value=!0,Object.assign(n,{day_of_week:a.day_of_week,start_time:S(a.start_time),end_time:S(a.end_time),slot_minutes:a.slot_minutes,max_patients_per_day:a.max_patients_per_day,fee:a.fee})}async function X(a){if(confirm("Are you sure you want to delete this schedule?"))try{await j.delete(`/doctor/schedules/${a.id}`),l.value=l.value.filter(t=>t.id!==a.id)}catch(t){alert(t.response?.data?.message||"Failed to delete schedule.")}}function Y(a){const t=r.find(s=>s.v===a);return t?t.t:a}return W(R),(a,t)=>(p(),A(se,null,{default:E(()=>[e("div",re,[e("div",ce,[e("div",ue,[e("div",pe,[e("div",me,[e("div",ye,[i(o(U),{class:"w-4 h-4"}),e("span",null,u(l.value.length)+" schedule"+u(l.value.length!==1?"s":"")+" configured",1)])]),e("button",{onClick:N,class:"btn-primary flex items-center gap-2",disabled:x.value&&!_.value},[i(o(Z),{class:"w-4 h-4"}),t[6]||(t[6]=e("span",null,"New Schedule",-1))],8,xe)]),i(ee,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0 transform -translate-y-4","enter-to-class":"opacity-100 transform translate-y-0","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100 transform translate-y-0","leave-to-class":"opacity-0 transform -translate-y-4"},{default:E(()=>[x.value?(p(),f("div",fe,[e("div",he,[e("div",null,[e("h2",_e,u(_.value?"Edit Schedule":"Create New Schedule"),1),t[7]||(t[7]=e("p",{class:"text-gray-500 text-sm mt-1"}," Configure consultation hours and availability ",-1))]),_.value?(p(),f("span",ge,[i(o(z),{class:"w-3 h-3"}),t[8]||(t[8]=g(" Editing ",-1))])):w("",!0)]),e("div",ve,[e("div",be,[e("label",we,[i(o(U),{class:"w-4 h-4"}),t[9]||(t[9]=g(" Day of Week ",-1))]),v(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>n.day_of_week=s),class:"input-field"},[(p(!0),f(B,null,H(M.value,s=>(p(),f("option",{key:s.v,value:s.v},u(s.t),9,ke))),128))],512),[[te,n.day_of_week]])]),e("div",Ce,[e("label",Me,[i(o(F),{class:"w-4 h-4"}),t[10]||(t[10]=g(" Start Time ",-1))]),v(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>n.start_time=s),type:"time",class:"input-field"},null,512),[[k,n.start_time]])]),e("div",Se,[e("label",je,[i(o(F),{class:"w-4 h-4"}),t[11]||(t[11]=g(" End Time ",-1))]),v(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>n.end_time=s),type:"time",class:"input-field"},null,512),[[k,n.end_time]])]),e("div",$e,[t[12]||(t[12]=e("label",{class:"text-sm font-medium text-gray-700"}," Slot Duration (Minutes) ",-1)),v(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>n.slot_minutes=s),type:"number",min:"5",max:"60",step:"5",class:"input-field"},null,512),[[k,n.slot_minutes,void 0,{number:!0}]])]),e("div",Ve,[e("label",De,[i(o(G),{class:"w-4 h-4"}),t[13]||(t[13]=g(" Max Patients/Day ",-1))]),v(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>n.max_patients_per_day=s),type:"number",min:"1",class:"input-field"},null,512),[[k,n.max_patients_per_day,void 0,{number:!0}]])]),e("div",Le,[e("label",Ue,[i(o(O),{class:"w-4 h-4"}),t[14]||(t[14]=g(" Consultation Fee ",-1))]),e("div",Fe,[t[15]||(t[15]=e("span",{class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500"},"$",-1)),v(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>n.fee=s),type:"number",min:"0",step:"50",class:"input-field pl-8"},null,512),[[k,n.fee,void 0,{number:!0}]])])])]),e("div",Te,[e("button",{onClick:J,disabled:m.value,class:"btn-primary flex items-center gap-2"},[m.value?(p(),A(o(P),{key:0,class:"w-4 h-4 animate-spin"})):w("",!0),e("span",null,u(_.value?"Update Schedule":"Create Schedule"),1)],8,Ne),e("button",{onClick:V,class:"btn-secondary"}," Cancel ")])])):w("",!0)]),_:1}),e("div",Ae,[t[21]||(t[21]=e("div",{class:"px-6 py-4 border-b border-gray-200/80 bg-gray-50/50"},[e("h3",{class:"text-lg font-semibold text-gray-900"}," Configured Schedules ")],-1)),e("div",Ee,[e("table",Be,[t[20]||(t[20]=e("thead",{class:"bg-gray-50/80 border-b border-gray-200/80"},[e("tr",null,[e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Day "),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Time Slot "),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Duration "),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Capacity "),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Fee "),e("th",{class:"px-6 py-4 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",He,[c.value?(p(),f("tr",Ie,[e("td",qe,[e("div",Oe,[i(o(P),{class:"w-8 h-8 animate-spin text-blue-600"}),t[16]||(t[16]=e("span",{class:"text-gray-500 font-medium"},"Loading schedules...",-1))])])])):w("",!0),(p(!0),f(B,null,H(l.value,s=>(p(),f("tr",{key:s.id,class:"group hover:bg-blue-50/30 transition-colors duration-200"},[e("td",Pe,[e("div",ze,[t[17]||(t[17]=e("div",{class:"w-2 h-2 bg-blue-600 rounded-full"},null,-1)),e("span",Ze,u(Y(s.day_of_week)),1)])]),e("td",Ge,[e("div",Re,[i(o(F),{class:"w-4 h-4 text-gray-400"}),e("span",null,u(s.start_time)+" - "+u(s.end_time),1)])]),e("td",Je,u(s.slot_minutes)+" minutes ",1),e("td",Qe,[e("div",Xe,[i(o(G),{class:"w-4 h-4 text-gray-400"}),e("span",null,u(s.max_patients_per_day)+" patients",1)])]),e("td",Ye,[e("div",Ke,[i(o(O),{class:"w-4 h-4 text-gray-400"}),e("span",null,"$"+u(s.fee),1)])]),e("td",We,[e("div",et,[e("button",{onClick:D=>Q(s),class:"action-btn bg-blue-50 text-blue-600 hover:bg-blue-100",title:"Edit schedule"},[i(o(z),{class:"w-4 h-4"})],8,tt),e("button",{onClick:D=>X(s),class:"action-btn bg-red-50 text-red-600 hover:bg-red-100",title:"Delete schedule"},[i(o(de),{class:"w-4 h-4"})],8,st)])])]))),128)),!c.value&&!$.value?(p(),f("tr",at,[e("td",lt,[e("div",nt,[i(o(U),{class:"w-12 h-12 text-gray-300"}),t[19]||(t[19]=e("div",null,[e("p",{class:"font-medium text-gray-900 mb-1"}," No schedules configured "),e("p",{class:"text-sm"}," Get started by creating your first schedule ")],-1)),e("button",{onClick:N,class:"btn-primary flex items-center gap-2 mt-2"},[i(o(Z),{class:"w-4 h-4"}),t[18]||(t[18]=e("span",null,"Create Schedule",-1))])])])])):w("",!0)])])])])])])])]),_:1}))}},pt=ae(it,[["__scopeId","data-v-cac44c53"]]);export{pt as default};
