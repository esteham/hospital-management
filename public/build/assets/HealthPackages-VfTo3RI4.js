import{_ as k}from"./AuthenticatedLayout-EnJ_EErE.js";import{q as h,p as B,y as P,c as o,a as d,u as i,h as D,w as n,b as e,d as v,o as r,t as l,F as f,e as b,n as C,l as c,f as u}from"./app-DJiwN1Lu.js";import{a as N}from"./api-BU8Bl2NI.js";import"./logo-DeNzv_1-.js";const M={class:"flex items-start sm:items-center justify-between gap-3"},V={class:"text-xs text-slate-500 mb-1","aria-label":"Breadcrumb"},j={class:"flex items-center gap-1"},H={class:"flex items-center gap-2"},L={class:"py-4"},A={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6"},E={key:0,class:"rounded-xl border border-red-200 bg-red-50 text-red-800 p-4"},F={key:1,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"},S={key:2,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"},T={class:"flex items-start justify-between gap-3 mb-3"},$={class:"font-semibold text-slate-800 group-hover:text-slate-900 transition-colors"},z={class:"text-sm text-slate-500 mt-0.5"},I={class:"grid grid-cols-2 gap-x-4 gap-y-2 text-sm text-slate-700"},U={class:"space-y-0.5"},q={class:"font-medium"},R={class:"space-y-0.5"},Y={class:"font-medium"},G={class:"space-y-0.5"},J={class:"font-medium"},K={class:"space-y-0.5"},O={class:"font-medium"},Q={key:0,class:"mt-3 rounded-lg border border-red-200 bg-red-50 p-3"},W={class:"text-xs text-red-700 mt-1"},X={class:"mt-4 flex items-center justify-between text-xs text-slate-500"},Z={class:"flex items-center gap-2"},ee={key:3,class:"rounded-2xl border border-slate-200/60 bg-white p-10 text-center shadow-sm"},te={class:"mt-4"},ne={__name:"HealthPackages",setup(se){const x=h([]),m=h(!0),p=h(""),g=a=>{const t=Number(a??0);try{return new Intl.NumberFormat("bn-BD",{style:"currency",currency:"BDT",maximumFractionDigits:0}).format(t)}catch{return`৳${t.toLocaleString()}`}},w=a=>{const t=new Date(a);return isNaN(t)?"-":t.toLocaleDateString()},y=a=>a==="confirmed"?"bg-green-100 text-green-800 ring-green-200":a==="pending"?"bg-yellow-100 text-yellow-800 ring-yellow-200":"bg-red-100 text-red-800 ring-red-200",_=B(()=>!m.value&&x.value.length>0);return P(async()=>{m.value=!0,p.value="";try{const a=await N.get("/api/bookings"),t=a?.data?.data??a?.data??[];x.value=Array.isArray(t)?t:[]}catch(a){console.error("Error fetching booked packages:",a),p.value="Unable to load your bookings right now. Please try again."}finally{m.value=!1}}),(a,t)=>(r(),o(f,null,[d(i(D),{title:"Health Packages"}),d(k,null,{header:n(()=>[e("div",M,[e("div",null,[e("nav",V,[e("ol",j,[e("li",null,[d(i(c),{href:"/",class:"hover:text-slate-700"},{default:n(()=>[...t[0]||(t[0]=[u("Dashboard",-1)])]),_:1})]),t[1]||(t[1]=e("li",{"aria-hidden":"true",class:"mx-1 text-slate-400"}," / ",-1)),t[2]||(t[2]=e("li",{class:"text-slate-700 font-medium"}," Health Packages ",-1))])]),t[3]||(t[3]=e("h2",{class:"font-bold text-2xl text-slate-800 leading-tight"}," Health Packages ",-1)),t[4]||(t[4]=e("p",{class:"text-slate-600 mt-1"}," Explore preventive care and manage your booked packages. ",-1))]),e("div",H,[d(i(c),{href:"/book-appointment",class:"inline-flex items-center gap-2 rounded-xl bg-blue-600 text-white px-4 py-2.5 text-sm font-medium shadow-sm hover:bg-blue-700 transition-colors"},{default:n(()=>[...t[5]||(t[5]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1),u(" Book Appointment ",-1)])]),_:1})])])]),default:n(()=>[e("div",L,[e("div",A,[t[18]||(t[18]=e("div",{class:"rounded-2xl border border-slate-200/60 bg-white p-5 shadow-sm"},[e("div",{class:"flex items-start gap-3"},[e("div",{class:"w-10 h-10 rounded-xl bg-gradient-to-br from-green-500 to-blue-600 text-white grid place-items-center shadow"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})])]),e("div",null,[e("h3",{class:"text-slate-800 font-semibold"}," Your Booked Health Packages "),e("p",{class:"text-slate-600 text-sm mt-1"}," Below is a list of packages you’ve booked. Click a card to view details. ")])])],-1)),p.value?(r(),o("div",E,l(p.value),1)):v("",!0),m.value?(r(),o("div",F,[(r(),o(f,null,b(6,s=>e("div",{key:s,class:"rounded-2xl border border-slate-200/60 bg-white p-5 shadow-sm"},[...t[6]||(t[6]=[e("div",{class:"animate-pulse space-y-3"},[e("div",{class:"h-5 w-1/2 bg-slate-200 rounded"}),e("div",{class:"h-4 w-1/3 bg-slate-200 rounded"}),e("div",{class:"grid grid-cols-2 gap-3 pt-2"},[e("div",{class:"h-4 bg-slate-200 rounded"}),e("div",{class:"h-4 bg-slate-200 rounded"}),e("div",{class:"h-4 bg-slate-200 rounded"}),e("div",{class:"h-4 bg-slate-200 rounded"})]),e("div",{class:"h-3 w-1/3 bg-slate-200 rounded"})],-1)])])),64))])):_.value?(r(),o("div",S,[(r(!0),o(f,null,b(x.value,s=>(r(),o("article",{key:s.id,class:"group rounded-2xl border border-slate-200/60 bg-white p-5 shadow-sm hover:shadow-md transition-shadow"},[e("div",T,[e("div",null,[e("h4",$,l(s.health_check?.name||`Package #${s.health_check_id}`),1),e("p",z," ID: "+l(s.id),1)]),e("span",{class:C(["inline-flex items-center rounded-full px-2.5 py-1 text-xs font-medium ring-1",y(s.status)])},l(s.status?.charAt(0).toUpperCase()+s.status?.slice(1)),3)]),e("dl",I,[e("div",U,[t[7]||(t[7]=e("dt",{class:"text-slate-500"},"Price",-1)),e("dd",q,l(s.health_check?.price?g(s.health_check.price):g(s.total_amount)),1)]),e("div",R,[t[8]||(t[8]=e("dt",{class:"text-slate-500"},"Payment",-1)),e("dd",Y,l(s.payment_type),1)]),e("div",G,[t[9]||(t[9]=e("dt",{class:"text-slate-500"},"Paid",-1)),e("dd",J,l(g(s.amount_paid)),1)]),e("div",K,[t[10]||(t[10]=e("dt",{class:"text-slate-500"},"Total",-1)),e("dd",O,l(g(s.total_amount)),1)])]),s.cancellation_reason?(r(),o("div",Q,[t[11]||(t[11]=e("p",{class:"text-xs font-medium text-red-800"}," Notice ",-1)),e("p",W,l(s.cancellation_reason),1)])):v("",!0),e("div",X,[e("span",null,"Booked on "+l(w(s.created_at)),1),e("div",Z,[d(i(c),{href:"/patient/appointments",class:"inline-flex items-center gap-1 rounded-lg border border-slate-200 px-2.5 py-1.5 font-medium text-slate-700 hover:bg-slate-50"},{default:n(()=>[...t[12]||(t[12]=[u(" View Details ",-1)])]),_:1}),d(i(c),{href:a.route("patient.appointments.download-pdf",{appointment:s.id}),class:"inline-flex items-center gap-1 rounded-lg bg-slate-800 text-white px-2.5 py-1.5 font-medium hover:bg-slate-900"},{default:n(()=>[...t[13]||(t[13]=[u("Receipt",-1)])]),_:1},8,["href"])])])]))),128))])):(r(),o("div",ee,[t[15]||(t[15]=e("div",{class:"mx-auto mb-4 w-16 h-16 rounded-2xl bg-slate-100 grid place-items-center"},[e("svg",{class:"w-8 h-8 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})])],-1)),t[16]||(t[16]=e("h3",{class:"text-slate-800 font-semibold"}," No packages booked yet ",-1)),t[17]||(t[17]=e("p",{class:"text-slate-600 text-sm mt-1"}," Browse our health packages and book your first checkup. ",-1)),e("div",te,[d(i(c),{href:"/book-appointment",class:"inline-flex items-center gap-2 rounded-xl bg-green-600 text-white px-4 py-2.5 text-sm font-medium shadow-sm hover:bg-green-700 transition-colors"},{default:n(()=>[...t[14]||(t[14]=[u(" Explore Packages ",-1)])]),_:1})])]))])])]),_:1})],64))}};export{ne as default};
