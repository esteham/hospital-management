import{q as f,s as R,p as S,y as J,z as N,w as U,b as e,a as n,u as i,t as d,C as K,c,d as h,o,f as m,F as j,e as V,j as x,E as Q,A as g}from"./app-Dpose4rL.js";import{_ as X}from"./AuthenticatedLayout-CIHs4SaE.js";import{a as C}from"./api-8oKcPITz.js";import{_ as Y}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{c as p}from"./createLucideIcon-_MllIG2o.js";import"./logo-DeNzv_1-.js";/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=p("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=p("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=p("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=p("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=p("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=p("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=p("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=p("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),ee={class:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50/30"},te={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},se={class:"space-y-6"},ae={class:"flex justify-between items-center"},le={class:"flex items-center gap-4"},ne={class:"flex items-center gap-2 text-sm text-gray-600 bg-white px-3 py-2 rounded-lg border"},ie=["disabled"],oe={key:0,class:"bg-white rounded-2xl shadow-sm border border-gray-200/80 p-6 space-y-6 backdrop-blur-sm"},de={class:"flex items-center justify-between"},re={class:"text-xl font-semibold text-gray-900"},ce={key:0,class:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},ue={class:"grid md:grid-cols-2 lg:grid-cols-3 gap-6"},pe={class:"space-y-2"},ye={class:"flex items-center gap-2 text-sm font-medium text-gray-700"},me={class:"grid grid-cols-2 gap-2"},xe=["value"],_e={class:"text-sm text-gray-700"},fe={class:"space-y-2"},he={class:"flex items-center gap-2 text-sm font-medium text-gray-700"},ge={class:"space-y-2"},ve={class:"flex items-center gap-2 text-sm font-medium text-gray-700"},be={class:"space-y-2"},ke={class:"space-y-2"},we={class:"flex items-center gap-2 text-sm font-medium text-gray-700"},Ce={class:"space-y-2"},Me={class:"flex items-center gap-2 text-sm font-medium text-gray-700"},Se={class:"relative"},je={class:"flex gap-3 pt-4 border-t border-gray-200"},Ve=["disabled"],De={class:"bg-white rounded-2xl shadow-sm border border-gray-200/80 overflow-hidden"},$e={class:"overflow-hidden"},Fe={class:"w-full"},Te={class:"divide-y divide-gray-200/80"},Ne={key:0},Ue={colspan:"6",class:"px-6 py-12 text-center"},Ee={class:"flex flex-col items-center justify-center gap-3"},Le={class:"px-6 py-4 whitespace-nowrap"},Ae={class:"flex flex-col gap-1"},He={class:"font-medium text-gray-900 text-sm"},Ie={class:"px-6 py-4 whitespace-nowrap"},qe={class:"flex items-center gap-2 text-gray-700"},Be={class:"px-6 py-4 whitespace-nowrap text-gray-600"},ze={class:"px-6 py-4 whitespace-nowrap"},Oe={class:"flex items-center gap-2 text-gray-700"},Pe={class:"px-6 py-4 whitespace-nowrap"},We={class:"flex items-center gap-2 text-gray-700"},Ge={class:"px-6 py-4 whitespace-nowrap text-right"},Re={class:"flex justify-end gap-2 group-hover:opacity-100 transition-opacity"},Je=["onClick"],Ke=["onClick"],Qe={key:1},Xe={colspan:"6",class:"px-6 py-16 text-center"},Ye={class:"flex flex-col items-center justify-center gap-4 text-gray-500"},Ze={__name:"Index",setup(et){const F=[{v:"sat",t:"Saturday"},{v:"sun",t:"Sunday"},{v:"mon",t:"Monday"},{v:"tue",t:"Tuesday"},{v:"wed",t:"Wednesday"},{v:"thu",t:"Thursday"},{v:"fri",t:"Friday"}],r=f([]),v=f(!1),b=f(!1),y=f(null),_=f(!1),l=R({day_of_week:[],start_time:"09:00",end_time:"13:00",slot_minutes:15,max_patients_per_day:20,fee:500}),q=S(()=>F),k=S(()=>y.value!==null),B=S(()=>r.value.length>0);function w(s){if(!s)return s;if(/^\d{2}:\d{2}:\d{2}$/.test(s))return s.slice(0,5);const t=s.match(/^(\d{1,2}):(\d{2})/);return t?`${t[1].padStart(2,"0")}:${t[2]}`:s}async function z(){v.value=!0;try{const{data:s}=await C.get("/doctor/schedules/list");r.value=s}catch(s){alert(s.response?.data?.message||"Failed to load schedules.")}finally{v.value=!1}}function M(){y.value=null,_.value=!1,Object.assign(l,{day_of_week:[],start_time:"09:00",end_time:"13:00",slot_minutes:15,max_patients_per_day:20,fee:500})}function T(){M(),_.value=!0}async function O(){b.value=!0;const s={...l,start_time:w(l.start_time),end_time:w(l.end_time)};try{if(y.value){const{data:t}=await C.put(`/doctor/schedules/${y.value.id}`,s),a=r.value.findIndex(u=>u.id===y.value.id);a>-1&&(r.value[a]=t)}else{const{data:t}=await C.post("/doctor/schedules",s);r.value.push(t)}M()}catch(t){alert(t.response?.data?.message||"Validation error")}finally{b.value=!1}}function P(s){y.value=s,_.value=!0,Object.assign(l,{day_of_week:Array.isArray(s.day_of_week)?s.day_of_week:[s.day_of_week],start_time:w(s.start_time),end_time:w(s.end_time),slot_minutes:s.slot_minutes,max_patients_per_day:s.max_patients_per_day,fee:s.fee})}async function W(s){if(confirm("Are you sure you want to delete this schedule?"))try{await C.delete(`/doctor/schedules/${s.id}`),r.value=r.value.filter(t=>t.id!==s.id)}catch(t){alert(t.response?.data?.message||"Failed to delete schedule.")}}function G(s){const t=F.find(a=>a.v===s);return t?t.t:s}return J(z),(s,t)=>(o(),N(X,null,{default:U(()=>[e("div",ee,[e("div",te,[e("div",se,[e("div",ae,[e("div",le,[e("div",ne,[n(i(D),{class:"w-4 h-4"}),e("span",null,d(r.value.length)+" schedule"+d(r.value.length!==1?"s":"")+" configured",1)])]),e("button",{onClick:T,class:"btn-primary flex items-center gap-2",disabled:_.value&&!k.value},[n(i(H),{class:"w-4 h-4"}),t[6]||(t[6]=e("span",null,"New Schedule",-1))],8,ie)]),n(K,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0 transform -translate-y-4","enter-to-class":"opacity-100 transform translate-y-0","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100 transform translate-y-0","leave-to-class":"opacity-0 transform -translate-y-4"},{default:U(()=>[_.value?(o(),c("div",oe,[e("div",de,[e("div",null,[e("h2",re,d(k.value?"Edit Schedule":"Create New Schedule"),1),t[7]||(t[7]=e("p",{class:"text-gray-500 text-sm mt-1"}," Configure consultation hours and availability ",-1))]),k.value?(o(),c("span",ce,[n(i(A),{class:"w-3 h-3"}),t[8]||(t[8]=m(" Editing ",-1))])):h("",!0)]),e("div",ue,[e("div",pe,[e("label",ye,[n(i(D),{class:"w-4 h-4"}),t[9]||(t[9]=m(" Days of Week (Available) ",-1))]),e("div",me,[(o(!0),c(j,null,V(q.value,a=>(o(),c("label",{key:a.v,class:"flex items-center gap-2 cursor-pointer"},[x(e("input",{"onUpdate:modelValue":t[0]||(t[0]=u=>l.day_of_week=u),value:a.v,type:"checkbox",class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,8,xe),[[Q,l.day_of_week]]),e("span",_e,d(a.t),1)]))),128))])]),e("div",fe,[e("label",he,[n(i($),{class:"w-4 h-4"}),t[10]||(t[10]=m(" Start Time ",-1))]),x(e("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>l.start_time=a),type:"time",class:"input-field"},null,512),[[g,l.start_time]])]),e("div",ge,[e("label",ve,[n(i($),{class:"w-4 h-4"}),t[11]||(t[11]=m(" End Time ",-1))]),x(e("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>l.end_time=a),type:"time",class:"input-field"},null,512),[[g,l.end_time]])]),e("div",be,[t[12]||(t[12]=e("label",{class:"text-sm font-medium text-gray-700"}," Slot Duration (Minutes) ",-1)),x(e("input",{"onUpdate:modelValue":t[3]||(t[3]=a=>l.slot_minutes=a),type:"number",min:"5",max:"60",step:"5",class:"input-field"},null,512),[[g,l.slot_minutes,void 0,{number:!0}]])]),e("div",ke,[e("label",we,[n(i(I),{class:"w-4 h-4"}),t[13]||(t[13]=m(" Max Patients/Day ",-1))]),x(e("input",{"onUpdate:modelValue":t[4]||(t[4]=a=>l.max_patients_per_day=a),type:"number",min:"1",class:"input-field"},null,512),[[g,l.max_patients_per_day,void 0,{number:!0}]])]),e("div",Ce,[e("label",Me,[n(i(E),{class:"w-4 h-4"}),t[14]||(t[14]=m(" Consultation Fee ",-1))]),e("div",Se,[t[15]||(t[15]=e("span",{class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500"},"$",-1)),x(e("input",{"onUpdate:modelValue":t[5]||(t[5]=a=>l.fee=a),type:"number",min:"0",step:"50",class:"input-field pl-8"},null,512),[[g,l.fee,void 0,{number:!0}]])])])]),e("div",je,[e("button",{onClick:O,disabled:b.value,class:"btn-primary flex items-center gap-2"},[b.value?(o(),N(i(L),{key:0,class:"w-4 h-4 animate-spin"})):h("",!0),e("span",null,d(k.value?"Update Schedule":"Create Schedule"),1)],8,Ve),e("button",{onClick:M,class:"btn-secondary"}," Cancel ")])])):h("",!0)]),_:1}),e("div",De,[t[21]||(t[21]=e("div",{class:"px-6 py-4 border-b border-gray-200/80 bg-gray-50/50"},[e("h3",{class:"text-lg font-semibold text-gray-900"}," Configured Schedules ")],-1)),e("div",$e,[e("table",Fe,[t[20]||(t[20]=e("thead",{class:"bg-gray-50/80 border-b border-gray-200/80"},[e("tr",null,[e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Days "),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Time Slot "),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Duration "),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Capacity "),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Fee "),e("th",{class:"px-6 py-4 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",Te,[v.value?(o(),c("tr",Ne,[e("td",Ue,[e("div",Ee,[n(i(L),{class:"w-8 h-8 animate-spin text-blue-600"}),t[16]||(t[16]=e("span",{class:"text-gray-500 font-medium"},"Loading schedules...",-1))])])])):h("",!0),(o(!0),c(j,null,V(r.value,a=>(o(),c("tr",{key:a.id,class:"group hover:bg-blue-50/30 transition-colors duration-200"},[e("td",Le,[e("div",Ae,[(o(!0),c(j,null,V(a.day_of_week,u=>(o(),c("div",{key:u,class:"flex items-center gap-2"},[t[17]||(t[17]=e("div",{class:"w-2 h-2 bg-blue-600 rounded-full"},null,-1)),e("span",He,d(G(u)),1)]))),128))])]),e("td",Ie,[e("div",qe,[n(i($),{class:"w-4 h-4 text-gray-400"}),e("span",null,d(a.start_time)+" - "+d(a.end_time),1)])]),e("td",Be,d(a.slot_minutes)+" minutes ",1),e("td",ze,[e("div",Oe,[n(i(I),{class:"w-4 h-4 text-gray-400"}),e("span",null,d(a.max_patients_per_day)+" patients",1)])]),e("td",Pe,[e("div",We,[n(i(E),{class:"w-4 h-4 text-gray-400"}),e("span",null,"$"+d(a.fee),1)])]),e("td",Ge,[e("div",Re,[e("button",{onClick:u=>P(a),class:"action-btn bg-blue-50 text-blue-600 hover:bg-blue-100",title:"Edit schedule"},[n(i(A),{class:"w-4 h-4"})],8,Je),e("button",{onClick:u=>W(a),class:"action-btn bg-red-50 text-red-600 hover:bg-red-100",title:"Delete schedule"},[n(i(Z),{class:"w-4 h-4"})],8,Ke)])])]))),128)),!v.value&&!B.value?(o(),c("tr",Qe,[e("td",Xe,[e("div",Ye,[n(i(D),{class:"w-12 h-12 text-gray-300"}),t[19]||(t[19]=e("div",null,[e("p",{class:"font-medium text-gray-900 mb-1"}," No schedules configured "),e("p",{class:"text-sm"}," Get started by creating your first schedule ")],-1)),e("button",{onClick:T,class:"btn-primary flex items-center gap-2 mt-2"},[n(i(H),{class:"w-4 h-4"}),t[18]||(t[18]=e("span",null,"Create Schedule",-1))])])])])):h("",!0)])])])])])])])]),_:1}))}},ot=Y(Ze,[["__scopeId","data-v-99f92310"]]);export{ot as default};
