import{_ as g}from"./AuthenticatedLayout-yQ-L7Aam.js";import{q as f,z as y,w as l,b as e,c as r,o as n,F as _,e as w,t as c,d}from"./app-DLmPeVrL.js";import"./logo-DeNzv_1-.js";const k={class:"py-12"},b={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},v={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},C={class:"p-6"},P={class:"overflow-x-auto"},A={class:"min-w-full divide-y divide-gray-200"},E={class:"bg-white divide-y divide-gray-200"},$={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},D={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},q={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},F={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},N={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},S={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},T={key:0,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},V={key:1,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800"},z={key:2,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800"},I={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},L=["href"],M={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},R={class:"flex space-x-2"},U=["onClick"],j=["onClick"],G=["onClick"],Q={__name:"Index",props:{packageBookings:Array},setup(p){const i=f(p.packageBookings),x=o=>{confirm("Are you sure you want to delete this package booking?")&&axios.delete(route("admin.package-bookings.destroy",o)).then(s=>{i.value=i.value.filter(t=>t.id!==o),alert("Package booking deleted successfully.")}).catch(s=>{console.error("Error:",s),alert("An error occurred while deleting the package booking.")})},u=o=>{confirm("Are you sure you want to confirm this package booking?")&&axios.put(route("admin.package-bookings.update",o),{status:"confirmed"}).then(s=>{const t=i.value.find(a=>a.id===o);t&&(t.status="confirmed"),alert("Package booking confirmed successfully.")}).catch(s=>{console.error("Error:",s),alert("An error occurred while confirming the package booking.")})},m=o=>{const s=prompt("Please enter the reason for cancellation:");s!==null&&s.trim()!==""?axios.put(route("admin.package-bookings.update",o),{status:"cancelled",cancellation_reason:s.trim()}).then(t=>{const a=i.value.find(h=>h.id===o);a&&(a.status="cancelled",a.cancellation_reason=s.trim()),alert("Package booking cancelled successfully.")}).catch(t=>{console.error("Error:",t),alert("An error occurred while cancelling the package booking.")}):s===null||alert("Cancellation reason is required.")};return(o,s)=>(n(),y(g,{title:"Package Bookings"},{header:l(()=>[...s[0]||(s[0]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Package Bookings Management ",-1)])]),default:l(()=>[e("div",k,[e("div",b,[e("div",v,[e("div",C,[e("div",P,[e("table",A,[s[1]||(s[1]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," User "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Package "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Payment Type "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Amount Paid "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Total Amount "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Receipt "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",E,[(n(!0),r(_,null,w(i.value,t=>(n(),r("tr",{key:t.id},[e("td",$,c(t.user.name),1),e("td",D,c(t.health_check.name),1),e("td",q,c(t.payment_type),1),e("td",F,c(t.amount_paid),1),e("td",N,c(t.total_amount),1),e("td",S,[t.status==="confirmed"?(n(),r("span",T," Confirmed ")):t.status==="pending"?(n(),r("span",V," Pending ")):(n(),r("span",z," Cancelled "))]),e("td",I,[e("a",{href:o.route("admin.package-bookings.download-pdf",t),class:"text-blue-600 hover:text-blue-900",target:"_blank"}," Download ",8,L)]),e("td",M,[e("div",R,[t.status==="pending"?(n(),r("button",{key:0,onClick:a=>u(t.id),class:"text-green-600 hover:text-green-900"}," Confirm ",8,U)):d("",!0),t.status==="pending"?(n(),r("button",{key:1,onClick:a=>m(t.id),class:"text-yellow-600 hover:text-yellow-900"}," Cancel ",8,j)):d("",!0),e("button",{onClick:a=>x(t.id),class:"text-red-600 hover:text-red-900"}," Delete ",8,G)])])]))),128))])])])])])])])]),_:1}))}};export{Q as default};
