import{q as x,c as a,a as v,u as k,h as C,w as M,b as t,d as i,o as r,F as f,e as A,t as o,n as h,f as n,i as N}from"./app-C2d9H1ja.js";import{_ as j}from"./AuthenticatedLayout-BxSGmFCs.js";import"./logo-DeNzv_1-.js";const V={class:"py-12"},D={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},S={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},B={class:"bg-gray-200 bg-opacity-25 grid grid-cols-1 md:grid-cols-2 gap-6 lg:gap-8 p-6 lg:p-8"},T={key:0,class:"col-span-full text-center py-12"},E={class:"flex items-center justify-between"},$={class:"text-lg font-semibold text-gray-900"},F={class:"mt-4 space-y-2"},P={class:"text-sm text-gray-600"},q={class:"text-sm text-gray-600"},z={class:"text-sm text-gray-600"},H={class:"text-sm text-gray-600"},L={class:"text-sm text-gray-600"},O={key:0,class:"text-sm text-gray-600"},I={class:"mt-6 flex space-x-2"},J=["onClick"],K=["onClick"],R=["onClick"],U={class:"mt-3"},X={key:0,class:"mt-4 space-y-4"},Y={class:"flex items-center justify-between"},G={class:"text-xl font-semibold text-gray-900"},Q={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},W={class:"text-sm text-gray-600"},Z={class:"text-sm text-gray-600"},tt={class:"text-sm text-gray-600"},et={class:"text-sm text-gray-600"},st={class:"text-sm text-gray-600"},ot={key:0},lt={class:"text-sm text-gray-600"},dt={__name:"Index",props:{appointments:Array},setup(_){const u=x(_.appointments||[]),c=x(!1),l=x(null),b=d=>{l.value=d,c.value=!0},p=()=>{c.value=!1,l.value=null},m=async(d,e)=>{try{const s=await fetch(`/doctor/appointments/${d}`,{method:"PUT",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:JSON.stringify({status:e})});if(s.ok){const g=await s.json(),y=u.value.findIndex(w=>w.id===d);y!==-1&&(u.value[y]=g.appointment),alert("Appointment status updated successfully!")}else alert("Failed to update appointment status.")}catch(s){console.error("Error:",s),alert("An error occurred while updating the appointment.")}};return(d,e)=>(r(),a(f,null,[v(k(C),{title:"My Appointments - Doctor Dashboard"}),v(j,null,{default:M(()=>[t("div",V,[t("div",D,[t("div",S,[e[8]||(e[8]=t("div",{class:"p-6 lg:p-8 bg-white border-b border-gray-200"},[t("div",{class:"flex items-center"},[t("svg",{class:"w-8 h-8 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3a2 2 0 012-2h4a2 2 0 012 2v4m-6 4v10a2 2 0 002 2h4a2 2 0 002-2V11M9 11h6"})]),t("h1",{class:"ml-2 text-2xl font-medium text-gray-900"}," My Appointments ")]),t("p",{class:"mt-6 text-gray-500 leading-relaxed"}," Here you can view and manage all your patient appointments. ")],-1)),t("div",B,[u.value.length===0?(r(),a("div",T,[...e[1]||(e[1]=[t("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1),t("h3",{class:"mt-2 text-sm font-medium text-gray-900"}," No appointments ",-1),t("p",{class:"mt-1 text-sm text-gray-500"}," You don't have any appointments yet. ",-1)])])):i("",!0),(r(!0),a(f,null,A(u.value,s=>(r(),a("div",{key:s.id,class:"bg-white rounded-lg shadow p-6"},[t("div",E,[t("h3",$,o(s.first_name)+" "+o(s.last_name),1),t("span",{class:h([{"bg-yellow-100 text-yellow-800":s.status==="pending","bg-green-100 text-green-800":s.status==="confirmed","bg-red-100 text-red-800":s.status==="cancelled"},"px-2 py-1 text-xs font-medium rounded-full"])},o(s.status),3)]),t("div",F,[t("p",P,[e[2]||(e[2]=t("strong",null,"Email:",-1)),n(" "+o(s.email),1)]),t("p",q,[e[3]||(e[3]=t("strong",null,"Phone:",-1)),n(" "+o(s.phone),1)]),t("p",z,[e[4]||(e[4]=t("strong",null,"Date:",-1)),n(" "+o(s.preferred_date),1)]),t("p",H,[e[5]||(e[5]=t("strong",null,"Time:",-1)),n(" "+o(s.preferred_time),1)]),t("p",L,[e[6]||(e[6]=t("strong",null,"Speciality:",-1)),n(" "+o(s.speciality),1)]),s.additional_notes?(r(),a("p",O,[e[7]||(e[7]=t("strong",null,"Notes:",-1)),n(" "+o(s.additional_notes),1)])):i("",!0)]),t("div",I,[s.status==="pending"?(r(),a("button",{key:0,onClick:g=>m(s.id,"confirmed"),class:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded"}," Confirm ",8,J)):i("",!0),s.status==="pending"?(r(),a("button",{key:1,onClick:g=>m(s.id,"cancelled"),class:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded"}," Cancel ",8,K)):i("",!0),t("button",{onClick:g=>b(s),class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"}," View Details ",8,R)])]))),128))])])])]),c.value?(r(),a("div",{key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",onClick:p},[t("div",{class:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white",onClick:e[0]||(e[0]=N(()=>{},["stop"]))},[t("div",U,[t("div",{class:"flex items-center justify-between"},[e[10]||(e[10]=t("h3",{class:"text-lg font-semibold text-gray-900"}," Appointment Details ",-1)),t("button",{onClick:p,class:"text-gray-400 hover:text-gray-600"},[...e[9]||(e[9]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),l.value?(r(),a("div",X,[t("div",Y,[t("h4",G,o(l.value.first_name)+" "+o(l.value.last_name),1),t("span",{class:h([{"bg-yellow-100 text-yellow-800":l.value.status==="pending","bg-green-100 text-green-800":l.value.status==="confirmed","bg-red-100 text-red-800":l.value.status==="cancelled"},"px-3 py-1 text-sm font-medium rounded-full"])},o(l.value.status),3)]),t("div",Q,[t("p",W,[e[11]||(e[11]=t("strong",null,"Email:",-1)),n(" "+o(l.value.email),1)]),t("p",Z,[e[12]||(e[12]=t("strong",null,"Phone:",-1)),n(" "+o(l.value.phone),1)]),t("p",tt,[e[13]||(e[13]=t("strong",null,"Date:",-1)),n(" "+o(l.value.preferred_date),1)]),t("p",et,[e[14]||(e[14]=t("strong",null,"Time:",-1)),n(" "+o(l.value.preferred_time),1)]),t("p",st,[e[15]||(e[15]=t("strong",null,"Speciality:",-1)),n(" "+o(l.value.speciality),1)])]),l.value.additional_notes?(r(),a("div",ot,[t("p",lt,[e[16]||(e[16]=t("strong",null,"Notes:",-1)),n(" "+o(l.value.additional_notes),1)])])):i("",!0)])):i("",!0)])])])):i("",!0)]),_:1})],64))}};export{dt as default};
