import{r as p,c as $,a as n,o as i,b,u as k,h as P,w as j,d as e,l as z,t as r,i as H,f as h,m as N,e as u,j as v,v as m,F as y,g as C}from"./app-DbEWas0L.js";import{_ as S}from"./AuthenticatedLayout-DbnejN-L.js";import"./logo-DeNzv_1-.js";const U={class:"min-h-screen bg-gray-50/30 py-6 sm:py-8"},F={class:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8"},T={class:"mb-6 sm:mb-8"},q={class:"flex items-center justify-between"},E={class:"grid grid-cols-1 lg:grid-cols-3 gap-6 lg:gap-8"},O={class:"lg:col-span-1 space-y-4 sm:space-y-6"},R={class:"bg-white rounded-2xl shadow-sm border border-gray-200 p-4 sm:p-6"},L={class:"flex items-center space-x-3 sm:space-x-4 mb-4 sm:mb-6"},I={class:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center"},J={class:"text-white font-semibold text-sm sm:text-lg"},K={class:"text-lg sm:text-xl font-bold text-gray-900"},Q={class:"text-gray-600 text-xs sm:text-sm"},X={class:"space-y-3 sm:space-y-4"},G={class:"flex items-center justify-between"},W={class:"flex items-center justify-between"},Y={class:"text-xs sm:text-sm text-gray-900"},Z={class:"flex items-center justify-between"},ee={class:"text-xs sm:text-sm text-gray-900"},te={class:"flex items-center justify-between"},se={class:"text-xs sm:text-sm font-mono text-gray-900"},oe={class:"bg-white rounded-2xl shadow-sm border border-gray-200 p-4 sm:p-6"},re={class:"space-y-3 sm:space-y-4"},ne={class:"flex items-center space-x-3"},ie={class:"text-xs sm:text-sm text-gray-900"},le={class:"flex items-center space-x-3"},ae={class:"text-xs sm:text-sm text-gray-900"},de={class:"hidden lg:block bg-white rounded-2xl shadow-sm border border-gray-200 p-4 sm:p-6"},ce={class:"space-y-2 sm:space-y-3"},pe=["href"],ue={class:"lg:col-span-2 space-y-4 sm:space-y-6"},me={class:"bg-white rounded-2xl shadow-sm border border-gray-300 overflow-hidden"},xe={class:"overflow-x-auto"},ge={class:"w-full rounded-lg overflow-hidden min-w-[600px]"},fe={class:"p-2"},ve=["onUpdate:modelValue"],be={class:"p-2"},he=["onUpdate:modelValue"],ye={class:"p-2"},we=["onUpdate:modelValue"],_e={class:"p-2 text-center"},ke=["onClick"],je={class:"flex items-center justify-end pt-4 border-t border-gray-200"},Ce=["disabled"],Ve={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Me={key:1,class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Be={class:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden"},De={class:"px-6 py-4 border-b border-gray-200"},Ae={class:"flex items-center justify-between"},$e={key:0,class:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm font-medium"},Pe={key:0,class:"divide-y divide-gray-200"},ze={class:"flex items-center justify-between mb-4"},He={class:"text-sm text-gray-500"},Ne={class:"flex items-center space-x-2"},Se=["href"],Ue={class:"bg-gray-50 rounded-xl p-4 border border-gray-200"},Fe={class:"whitespace-pre-wrap font-sans text-sm text-gray-700"},Te={key:1,class:"p-12 text-center"},Le={__name:"Show",props:{appointment:Object},setup(V){const s=p(V.appointment),x=p(""),a=p([{name:"",dosage:"",duration:""}]),g=p(""),c=p(!1),M=()=>{a.value.push({name:"",dosage:"",duration:""})},B=l=>{a.value.splice(l,1)},D=l=>({pending:"bg-amber-50 text-amber-700 ring-amber-600/20",confirmed:"bg-emerald-50 text-emerald-700 ring-emerald-600/20",cancelled:"bg-rose-50 text-rose-700 ring-rose-600/20"})[l]||"bg-gray-50 text-gray-700 ring-gray-600/20",A=async()=>{c.value=!0;try{const l=`
Diagnosis: ${x.value}

${a.value.map((o,f)=>`${f+1}) ${o.name||"—"} — ${o.dosage||"—"} — ${o.duration||"—"}`).join(`
`)}

Advice: ${g.value}
`.trim();if((await fetch(`/doctor/appointments/${s.value.id}/prescription`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:JSON.stringify({prescription_text:l})})).ok)w("Prescription added successfully!","success"),x.value="",g.value="",a.value=[{name:"",dosage:"",duration:""}],setTimeout(()=>window.location.reload(),1500);else throw new Error("Failed to add prescription")}catch(l){console.error("Error:",l),w("Failed to add prescription","error")}finally{c.value=!1}},w=(l,t="info")=>{alert(l)},_=$(()=>!s.value.prescriptions||s.value.prescriptions.length===0?null:s.value.prescriptions[s.value.prescriptions.length-1]);return(l,t)=>(i(),n(y,null,[b(k(P),{title:"Appointment Details - Doctor Dashboard"}),b(S,null,{default:j(()=>[e("div",U,[e("div",F,[e("div",T,[e("div",q,[t[3]||(t[3]=e("div",{class:"flex items-center space-x-3 sm:space-x-4"},[e("div",{class:"p-2 sm:p-3 bg-white rounded-2xl shadow-sm border border-gray-100"},[e("svg",{class:"w-6 h-6 sm:w-7 sm:h-7 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])]),e("div",null,[e("h1",{class:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900"}," Appointment Details "),e("p",{class:"text-xs sm:text-sm md:text-base text-gray-600 mt-1"}," Patient consultation and prescription management ")])],-1)),b(k(z),{href:"/doctor/appointments",class:"inline-flex items-center px-3 py-2 md:px-4 md:py-2.5 border border-black-300 text-sm font-medium rounded-xl text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors"},{default:j(()=>[...t[2]||(t[2]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),e("span",{class:"hidden sm:inline"},"Back to Appointments",-1),e("span",{class:"sm:hidden"},"Back",-1)])]),_:1})])]),e("div",E,[e("div",O,[e("div",R,[e("div",L,[e("div",I,[e("span",J,r(s.value.first_name.charAt(0))+r(s.value.last_name.charAt(0)),1)]),e("div",null,[e("h2",K,r(s.value.first_name)+" "+r(s.value.last_name),1),e("p",Q,r(s.value.email),1)])]),e("div",X,[e("div",G,[t[4]||(t[4]=e("span",{class:"text-xs sm:text-sm font-medium text-gray-500"},"Status",-1)),e("span",{class:H(["px-2 sm:px-3 py-1 rounded-full text-xs font-medium ring-1 ring-inset",D(s.value.status)])},r(s.value.status),3)]),e("div",W,[t[5]||(t[5]=e("span",{class:"text-xs sm:text-sm font-medium text-gray-500"},"Age",-1)),e("span",Y,r(s.value.age)+" years",1)]),e("div",Z,[t[6]||(t[6]=e("span",{class:"text-xs sm:text-sm font-medium text-gray-500"},"Phone",-1)),e("span",ee,r(s.value.phone),1)]),e("div",te,[t[7]||(t[7]=e("span",{class:"text-xs sm:text-sm font-medium text-gray-500"},"Booking ID",-1)),e("span",se,r(s.value.booking_id),1)])])]),e("div",oe,[t[12]||(t[12]=e("h3",{class:"text-base sm:text-lg font-semibold text-gray-900 mb-3 sm:mb-4"}," Appointment Details ",-1)),e("div",re,[e("div",ne,[t[9]||(t[9]=e("div",{class:"p-2 bg-blue-50 rounded-lg"},[e("svg",{class:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3a2 2 0 012-2h4a2 2 0 012 2v4m0 5V9a2 2 0 00-2-2H4a2 2 0 00-2 2v10a2 2 0 002 2h16a2 2 0 002-2v-6a2 2 0 00-2-2h-8z"})])],-1)),e("div",null,[t[8]||(t[8]=e("p",{class:"text-xs sm:text-sm font-medium text-gray-500"}," Date ",-1)),e("p",ie,r(s.value.preferred_date),1)])]),e("div",le,[t[11]||(t[11]=e("div",{class:"p-2 bg-green-50 rounded-lg"},[e("svg",{class:"w-4 h-4 sm:w-5 sm:h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",null,[t[10]||(t[10]=e("p",{class:"text-xs sm:text-sm font-medium text-gray-500"}," Time ",-1)),e("p",ae,r(s.value.preferred_time),1)])])])]),e("div",de,[t[15]||(t[15]=e("h3",{class:"text-base sm:text-lg font-semibold text-gray-900 mb-3 sm:mb-4"}," Quick Actions ",-1)),e("div",ce,[_.value?(i(),n("a",{key:0,href:`/doctor/appointments/${s.value.id}/prescriptions/${_.value.id}/download-pdf`,target:"_blank",class:"w-full flex items-center justify-between p-3 border border-gray-200 rounded-xl hover:bg-gray-50 transition-colors group"},[...t[13]||(t[13]=[e("div",{class:"flex items-center space-x-3"},[e("div",{class:"p-2 bg-red-50 rounded-lg"},[e("svg",{class:"w-4 h-4 sm:w-5 sm:h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])]),e("span",{class:"text-xs sm:text-sm font-medium text-gray-700"},"Download Latest Prescription")],-1),e("svg",{class:"w-4 h-4 text-gray-400 group-hover:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])],8,pe)):h("",!0),t[14]||(t[14]=e("button",{class:"w-full flex items-center justify-between p-3 border border-gray-200 rounded-xl hover:bg-gray-50 transition-colors group"},[e("div",{class:"flex items-center space-x-3"},[e("div",{class:"p-2 bg-purple-50 rounded-lg"},[e("svg",{class:"w-4 h-4 sm:w-5 sm:h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])]),e("span",{class:"text-xs sm:text-sm font-medium text-gray-700"},"Add Hospital Notes")]),e("svg",{class:"w-4 h-4 text-gray-400 group-hover:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})])],-1))])])]),e("div",ue,[e("div",me,[t[22]||(t[22]=e("div",{class:"px-4 sm:px-6 py-4 border-b border-gray-200"},[e("h3",{class:"text-base sm:text-lg font-semibold text-gray-900"}," New Prescription "),e("p",{class:"text-xs sm:text-sm text-gray-600 mt-1"}," Fill out the prescription details below ")],-1)),e("form",{onSubmit:N(A,["prevent"]),class:"p-4 sm:p-6 space-y-4 sm:space-y-6"},[e("div",null,[t[16]||(t[16]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[v(" Diagnosis "),e("span",{class:"text-red-500"},"*")],-1)),u(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>x.value=o),type:"text",class:"w-full px-4 py-3 border border-black-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors",placeholder:"Enter diagnosis (e.g., Upper respiratory infection, Hypertension)",required:""},null,512),[[m,x.value]])]),e("div",null,[t[18]||(t[18]=e("label",{class:"block font-semibold mb-2"},"Medicines:",-1)),e("div",xe,[e("table",ge,[t[17]||(t[17]=e("thead",{class:"text-gray-700"},[e("tr",null,[e("th",{class:"min-w-[150px] text-left"}," Medicine Name "),e("th",{class:"min-w-[150px] text-left"}," Dosage "),e("th",{class:"min-w-[100px] text-left"}," Duration "),e("th",{class:"min-w-[50px]"})])],-1)),e("tbody",null,[(i(!0),n(y,null,C(a.value,(o,f)=>(i(),n("tr",{key:f,class:"bg-white"},[e("td",fe,[u(e("input",{"onUpdate:modelValue":d=>o.name=d,type:"text",class:"w-full px-2 py-1 border rounded focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 transition-colors",placeholder:"Medicine name",required:""},null,8,ve),[[m,o.name]])]),e("td",be,[u(e("input",{"onUpdate:modelValue":d=>o.dosage=d,type:"text",class:"w-full px-2 py-1 border rounded focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 transition-colors",placeholder:"e.g. 1 tab thrice daily",required:""},null,8,he),[[m,o.dosage]])]),e("td",ye,[u(e("input",{"onUpdate:modelValue":d=>o.duration=d,type:"text",class:"w-full px-2 py-1 border rounded focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 transition-colors",placeholder:"e.g. 5 days",required:""},null,8,we),[[m,o.duration]])]),e("td",_e,[a.value.length>1?(i(),n("button",{key:0,type:"button",onClick:d=>B(f),class:"text-red-500 hover:text-red-700 font-bold text-lg"}," × ",8,ke)):h("",!0)])]))),128))])])]),e("button",{type:"button",onClick:M,class:"mt-2 text-indigo-600 hover:underline font-medium"}," + Add Medicine ")]),e("div",null,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[v(" Advice "),e("span",{class:"text-red-500"},"*")],-1)),u(e("textarea",{"onUpdate:modelValue":t[1]||(t[1]=o=>g.value=o),rows:"4",class:"w-full px-4 py-3 border border-black-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors",placeholder:"Provide medical advice and instructions (e.g., Rest, Hydration, Follow-up in 3 days)",required:""},null,512),[[m,g.value]])]),e("div",je,[e("button",{type:"submit",disabled:c.value,class:"inline-flex items-center px-6 py-3 bg-indigo-600 text-white font-medium rounded-xl hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-indigo-400 disabled:cursor-not-allowed transition-colors"},[c.value?(i(),n("svg",Ve,[...t[20]||(t[20]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(i(),n("svg",Me,[...t[21]||(t[21]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])),v(" "+r(c.value?"Creating Prescription...":"Create Prescription"),1)],8,Ce)])],32)]),e("div",Be,[e("div",De,[e("div",Ae,[t[23]||(t[23]=e("h3",{class:"text-lg font-semibold text-gray-900"}," Prescription History ",-1)),s.value.prescriptions&&s.value.prescriptions.length>0?(i(),n("span",$e,r(s.value.prescriptions.length)+" prescription"+r(s.value.prescriptions.length!==1?"s":""),1)):h("",!0)])]),s.value.prescriptions&&s.value.prescriptions.length>0?(i(),n("div",Pe,[(i(!0),n(y,null,C(s.value.prescriptions,o=>(i(),n("div",{key:o.id,class:"p-6 hover:bg-gray-50/50 transition-colors"},[e("div",ze,[e("p",He,r(new Date(o.created_at).toLocaleString()),1),e("div",Ne,[e("a",{href:`/doctor/appointments/${s.value.id}/prescriptions/${o.id}/download-pdf`,target:"_blank",class:"inline-flex items-center px-3 py-1.5 bg-white border border-black-300 text-gray-700 text-sm font-medium rounded-lg hover:bg-gray-50 transition-colors"},[...t[24]||(t[24]=[e("svg",{class:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),v(" Download PDF ",-1)])],8,Se)])]),e("div",Ue,[e("pre",Fe,r(o.prescription_text),1)])]))),128))])):(i(),n("div",Te,[...t[25]||(t[25]=[e("div",{class:"p-4 bg-gray-50 rounded-2xl inline-flex mb-4"},[e("svg",{class:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1),e("h3",{class:"text-lg font-semibold text-gray-900 mb-2"}," No prescriptions yet ",-1),e("p",{class:"text-gray-500 max-w-md mx-auto"}," Create your first prescription for this patient using the form below. ",-1)])]))])])])])])]),_:1})],64))}};export{Le as default};
