import{q as u,c as n,a as p,u as m,h as b,w as v,b as t,l as x,f as l,d as y,t as o,o as r,F as f,e as w,i as _,j as k,A as N}from"./app-S15DX7-G.js";import{_ as S}from"./AuthenticatedLayout-DSc9R0cP.js";import"./logo-DeNzv_1-.js";const D={class:"py-12"},A={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},P={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},T={class:"p-6 lg:p-8 bg-white border-b border-gray-200"},h={class:"flex items-center justify-between"},j={class:"mt-4"},B={key:0},C={class:"mt-8"},E={key:0,class:"mt-4"},V={class:"text-sm text-gray-500"},F={key:1,class:"mt-4"},O={class:"mt-6"},I={__name:"Show",props:{appointment:Object},setup(c){const s=u(c.appointment),d=u(""),g=async()=>{try{const i=await fetch(`/doctor/appointments/${s.value.id}/prescription`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:JSON.stringify({prescription_text:d.value})});if(i.ok){const e=await i.json();alert("Prescription added and sent successfully!"),d.value="",window.location.reload()}else alert("Failed to add prescription.")}catch(i){console.error("Error:",i),alert("An error occurred.")}};return(i,e)=>(r(),n(f,null,[p(m(b),{title:"Appointment Details - Doctor Dashboard"}),p(S,null,{default:v(()=>[t("div",D,[t("div",A,[t("div",P,[t("div",T,[t("div",h,[e[2]||(e[2]=t("h2",{class:"text-2xl font-bold"}," Appointment Details ",-1)),p(m(x),{href:"/doctor/appointments",class:"text-blue-600"},{default:v(()=>[...e[1]||(e[1]=[l("Back to Appointments",-1)])]),_:1})]),t("div",j,[t("p",null,[e[3]||(e[3]=t("strong",null,"Booking ID:",-1)),l(" "+o(s.value.booking_id),1)]),t("p",null,[e[4]||(e[4]=t("strong",null,"Name:",-1)),l(" "+o(s.value.first_name)+" "+o(s.value.last_name),1)]),t("p",null,[e[5]||(e[5]=t("strong",null,"Email:",-1)),l(" "+o(s.value.email),1)]),t("p",null,[e[6]||(e[6]=t("strong",null,"Phone:",-1)),l(" "+o(s.value.phone),1)]),t("p",null,[e[7]||(e[7]=t("strong",null,"Date:",-1)),l(" "+o(s.value.preferred_date),1)]),t("p",null,[e[8]||(e[8]=t("strong",null,"Time:",-1)),l(" "+o(s.value.preferred_time),1)]),t("p",null,[e[9]||(e[9]=t("strong",null,"Speciality:",-1)),l(" "+o(s.value.speciality),1)]),t("p",null,[e[10]||(e[10]=t("strong",null,"Status:",-1)),l(" "+o(s.value.status),1)]),s.value.additional_notes?(r(),n("p",B,[e[11]||(e[11]=t("strong",null,"Notes:",-1)),l(" "+o(s.value.additional_notes),1)])):y("",!0)]),t("div",C,[e[15]||(e[15]=t("h3",{class:"text-xl font-semibold"},"Prescriptions",-1)),s.value.prescriptions&&s.value.prescriptions.length>0?(r(),n("div",E,[(r(!0),n(f,null,w(s.value.prescriptions,a=>(r(),n("div",{key:a.id,class:"border p-4 mb-4 rounded"},[t("p",null,o(a.prescription_text),1),t("p",V," Created at: "+o(new Date(a.created_at).toLocaleString()),1)]))),128))])):(r(),n("div",F,[...e[12]||(e[12]=[t("p",null,"No prescriptions yet.",-1)])])),t("div",O,[e[14]||(e[14]=t("h4",{class:"text-lg font-medium"}," Add New Prescription ",-1)),t("form",{onSubmit:_(g,["prevent"]),class:"mt-4"},[k(t("textarea",{"onUpdate:modelValue":e[0]||(e[0]=a=>d.value=a),class:"w-full p-2 border rounded",rows:"5",placeholder:"Enter prescription details...",required:""},null,512),[[N,d.value]]),e[13]||(e[13]=t("button",{type:"submit",class:"mt-2 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"}," Add Prescription ",-1))],32)])])])])])])]),_:1})],64))}};export{I as default};
