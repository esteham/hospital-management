import{k as be,m as ve,p as I,q as p,s as te,x as ce,y as ge,z as R,w as V,b as t,f as h,t as d,a as P,T as se,c as i,d as f,o as a,j as m,A as v,v as le,F as oe,e as ae,B as H,C as W,i as z,n as C,D as re}from"./app-BoKJi182.js";import{_ as xe}from"./AuthenticatedLayout-5_Rn2fbJ.js";import{_ as ye}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./logo-DeNzv_1-.js";const we={class:"p-6 max-w-7xl mx-auto"},ke={class:"mb-6 flex items-center justify-between gap-4"},he={class:"flex items-center gap-2"},Ce=["disabled"],je={class:"space-y-2 mb-4"},Se={key:"flash-success",class:"rounded-xl border border-green-200 bg-green-50 text-green-800 px-4 py-3 text-sm"},Me={key:"flash-error",class:"rounded-xl border border-red-200 bg-red-50 text-red-800 px-4 py-3 text-sm"},Ve={class:"mb-4 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"},$e={class:"relative sm:w-80"},De={class:"flex items-center gap-2"},Ae=["title"],Ue={key:0},Be={key:1},Ee={class:"bg-white rounded-2xl border border-gray-200 shadow-sm overflow-x-auto"},Pe={class:"w-full text-sm"},ze={class:"divide-y divide-gray-200"},Le={class:"flex px-4 py-3 text-sm text-gray-900"},Ne=["src"],Te={class:"px-4 py-3 text-sm text-gray-900"},qe={class:"px-4 py-3 text-sm text-gray-900"},Fe={class:"px-4 py-3 text-sm text-gray-900"},Oe={class:"px-4 py-3 text-sm text-gray-900"},_e={class:"px-4 py-3 text-sm"},Ie={class:"flex items-center gap-2"},Re=["onClick"],He=["onClick"],We={key:0,class:"text-center"},Xe={class:"mt-4 flex items-center justify-between text-sm text-gray-700"},Ge={class:"flex items-center gap-2"},Ke=["disabled"],Je={class:"px-2"},Qe=["disabled"],Ye={class:"w-full max-w-lg rounded-lg bg-white p-6 shadow-xl"},Ze={key:0,class:"mt-1 text-sm text-red-600"},et={key:0,class:"mt-1 text-sm text-red-600"},tt={class:"relative"},st=["type"],lt={key:0,class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},ot={key:1,class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},at={key:0,class:"mt-1 text-sm text-red-600"},rt={key:0,class:"mt-1 text-sm text-red-600"},nt={class:"flex justify-end gap-3 pt-4"},it=["disabled"],dt={class:"w-full max-w-lg rounded-lg bg-white p-6 shadow-xl"},ut={key:0,class:"mt-1 text-sm text-red-600"},pt={key:0,class:"mt-1 text-sm text-red-600"},mt={class:"relative"},ft=["type"],bt={key:0,class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},vt={key:1,class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},ct={key:0,class:"mt-1 text-sm text-red-600"},gt={key:0,class:"mt-1 text-sm text-red-600"},xt={class:"flex justify-end gap-3 pt-4"},yt={class:"w-full max-w-md rounded-lg bg-white p-6 shadow-xl"},wt={class:"text-gray-600"},kt={class:"flex justify-end gap-3 pt-4"},ht={class:"fixed top-4 right-4 z-50 space-y-2"},Ct={class:"flex-1"},jt={class:"font-medium"},St={class:"text-sm"},Mt=["onClick"],Vt={__name:"Index",setup($t){const $=be.create({headers:{"X-Requested-With":"XMLHttpRequest"}}),X=document.querySelector('meta[name="csrf-token"]').getAttribute("content");X&&($.defaults.headers.common["X-CSRF-TOKEN"]=X);const ne=ve(),L=I(()=>ne.props.value?.flash??{}),N=p(!1),T=p(!1),w=p([]),q=p(""),D=p("name"),j=p("asc"),g=p(10),c=p(1),A=p(!1),U=p(!1),F=p(null),n=te({name:"",email:"",password:"",designation:"",department:"",phone:"",about:"",photo:null}),r=te({name:"",email:"",password:"",designation:"",department:"",phone:"",about:"",photo:null}),o=p({});I(()=>!!o.value&&Object.keys(o.value).length>0);function G(l){const e=new FormData;for(const[s,u]of Object.entries(l??{}))if(!(u==null||u===""))if(u instanceof File||u instanceof Blob)e.append(s,u);else if(Array.isArray(u))u.forEach((b,y)=>e.append(`${s}[${y}]`,b));else if(typeof u=="object")for(const[b,y]of Object.entries(u))e.append(`${s}[${b}]`,y??"");else e.append(s,u);return e}const B=p(!1),O=p(!1),S=p(!1),k=p(null),E=I(()=>{const l=q.value.trim().toLowerCase();let e=w.value.slice();return l&&(e=e.filter(s=>[s.name,s.email,s.department,s.designation,s.phone].filter(Boolean).some(u=>String(u).toLowerCase().includes(l)))),e.sort((s,u)=>{const b=j.value==="asc"?1:-1,y=(s[D.value]??"").toString().toLowerCase(),ee=(u[D.value]??"").toString().toLowerCase();return y<ee?-1*b:y>ee?1*b:0}),e}),K=I(()=>{const l=(c.value-1)*g.value;return E.value.slice(l,l+g.value)});ce([q,D,j,g],()=>{c.value=1});async function J(){N.value=!0;try{const{data:l}=await $.get("/admin/staff/list");w.value=Array.isArray(l)?l:l?.data??[]}catch(l){x({type:"error",title:"Load failed",message:l?.response?.data?.message||"Could not load staff."})}finally{N.value=!1}}function Q(l,e=!1){const s={};return l.name?.trim()||(s.name=["Name is required."]),l.email?.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)||(s.email=["Email is invalid."]):s.email=["Email is required."],e?l.password&&l.password.length<8&&(s.password=["Password must be at least 8 characters."]):(!l.password||l.password.length<8)&&(s.password=["Password must be at least 8 characters."]),s}function Y(){Object.assign(n,{name:"",email:"",password:"",designation:"",department:"",phone:"",about:"",photo:null}),o.value={}}async function ie(){if(n.photo&&!n.photo.type?.startsWith("image/"))return o.value={...o.value,photo:["Please upload a valid image file."]},_();if(o.value=Q(n),Object.keys(o.value).length)return _();T.value=!0;try{const l={name:n.name,email:n.email,password:n.password,designation:n.designation,department:n.department,phone:n.phone,about:n.about,photo:n.photo||null},e=G(l),{data:s}=await $.post("/admin/staff",e);w.value.unshift(s.staff??s),Y(),A.value=!1,x({type:"success",title:"Staff created",message:"Account created successfully."})}catch(l){l?.response?.status===422?(o.value=l.response.data.errors||{},x({type:"error",title:"Validation error",message:Z(o.value)})):x({type:"error",title:"Create failed",message:l?.response?.data?.message||"Could not create staff."})}finally{T.value=!1}}function de(){Y(),B.value=!1,A.value=!0}function ue(l){F.value=l,Object.assign(r,{name:l.name??"",email:l.email??"",password:"",designation:l.designation??"",department:l.department??"",phone:l.phone??"",about:l.about??"",photo:null}),U.value=!0}async function pe(){if(F.value){if(r.photo&&!r.photo.type?.startsWith("image/"))return o.value={...o.value,photo:["Please upload a valid image file."]},_();if(o.value=Q(r,!0),Object.keys(o.value).length)return _();try{const l={name:r.name,email:r.email,password:r.password||"",designation:r.designation,department:r.department,phone:r.phone,about:r.about},e=G(l);r.photo&&e.append("photo",r.photo),e.append("_method","PUT");const{data:s}=await $.post(`/admin/staff/${F.value.id}`,e),u=w.value.findIndex(b=>b.id===F.value.id);u>-1&&(w.value[u]=s.staff??s),U.value=!1,x({type:"success",title:"Saved",message:"Staff updated."})}catch(l){const e=l?.response?.data?.errors;e?(o.value=e,x({type:"error",title:"Validation error",message:Z(e)})):x({type:"error",title:"Update failed",message:l?.response?.data?.message||"Could not update."})}}}function me(l){k.value=l,S.value=!0}async function fe(){if(!k.value)return S.value=!1;try{await $.delete(`/admin/staff/${k.value.id}`),w.value=w.value.filter(l=>l.id!==k.value.id),x({type:"success",title:"Deleted",message:`${k.value.name} removed.`})}catch(l){x({type:"error",title:"Delete failed",message:l?.response?.data?.message||"Could not delete."})}finally{S.value=!1,k.value=null}}function Z(l){return Object.values(l||{}).flat().join(`
`)}function _(){requestAnimationFrame(()=>{const l=document.querySelector(".form-error");l&&l.scrollIntoView({behavior:"smooth",block:"center"})})}const M=p([]);function x({type:l="info",title:e="",message:s="",timeout:u=3500}){const b=crypto.randomUUID();M.value.push({id:b,type:l,title:e,message:s}),setTimeout(()=>{M.value=M.value.filter(y=>y.id!==b)},u)}return ge(J),(l,e)=>(a(),R(xe,{title:"Admin · Staff"},{default:V(()=>[t("div",we,[t("header",ke,[e[32]||(e[32]=t("div",null,[t("h1",{class:"text-2xl font-semibold tracking-tight text-gray-900"}," Staff "),t("p",{class:"text-gray-600 mt-1"}," Only existing staff are listed below. ")],-1)),t("div",he,[t("button",{class:"inline-flex items-center gap-2 rounded-xl bg-blue-600 text-white px-4 py-2 font-medium shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",onClick:de},[...e[30]||(e[30]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z","clip-rule":"evenodd"})],-1),h(" Add Staff ",-1)])]),t("button",{class:"inline-flex items-center gap-2 rounded-xl border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",onClick:J,disabled:N.value},[e[31]||(e[31]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z","clip-rule":"evenodd"})],-1)),h(" "+d(N.value?"Refreshing…":"Refresh"),1)],8,Ce)])]),t("div",je,[P(se,{name:"fade"},{default:V(()=>[L.value.success?(a(),i("div",Se,[e[33]||(e[33]=t("strong",{class:"font-medium"},"Success:",-1)),h(" "+d(L.value.success),1)])):f("",!0),L.value.error?(a(),i("div",Me,[e[34]||(e[34]=t("strong",{class:"font-medium"},"Error:",-1)),h(" "+d(L.value.error),1)])):f("",!0)]),_:1})]),t("div",Ve,[t("div",$e,[m(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>q.value=s),type:"search",placeholder:"Search name, email, department…",class:"w-full rounded-xl border border-gray-300 bg-white px-3 py-2 pl-9 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[v,q.value]]),e[35]||(e[35]=t("svg",{class:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-4.35-4.35M11 19a8 8 0 100-16 8 8 0 000 16z"})],-1))]),t("div",De,[e[38]||(e[38]=t("label",{class:"sr-only",for:"sortBy"},"Sort by",-1)),m(t("select",{id:"sortBy","onUpdate:modelValue":e[1]||(e[1]=s=>D.value=s),class:"rounded-xl border border-gray-300 bg-white px-3 py-2 text-sm"},[...e[36]||(e[36]=[t("option",{value:"name"},"Name",-1),t("option",{value:"email"},"Email",-1),t("option",{value:"department"},"Department",-1)])],512),[[le,D.value]]),t("button",{onClick:e[2]||(e[2]=s=>j.value=j.value==="asc"?"desc":"asc"),class:"rounded-xl border border-gray-300 bg-white px-3 py-2 text-sm",title:`Sort ${j.value==="asc"?"descending":"ascending"}`,"aria-label":"Toggle sort direction"},[j.value==="asc"?(a(),i("span",Ue,"⬆️")):(a(),i("span",Be,"⬇️"))],8,Ae),m(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>g.value=s),class:"rounded-xl border border-gray-300 bg-white px-3 py-2 text-sm"},[...e[37]||(e[37]=[t("option",{value:10},"10",-1),t("option",{value:20},"20",-1),t("option",{value:50},"50",-1)])],512),[[le,g.value,void 0,{number:!0}]])])]),t("div",Ee,[t("table",Pe,[e[40]||(e[40]=t("thead",{class:"bg-gray-50 text-gray-600"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left font-medium"},"Name"),t("th",{class:"px-4 py-3 text-left font-medium"},"Email"),t("th",{class:"px-4 py-3 text-left font-medium"},"Department"),t("th",{class:"px-4 py-3 text-left font-medium"},"Designation"),t("th",{class:"px-4 py-3 text-left font-medium"},"Phone"),t("th",{class:"px-4 py-3 text-left font-medium"},"Actions")])],-1)),t("tbody",ze,[(a(!0),i(oe,null,ae(K.value,s=>(a(),i("tr",{key:s.id,class:"hover:bg-gray-50"},[t("td",Le,[s.photo?(a(),i("img",{key:0,src:s.photo,alt:"Staff photo",class:"w-10 h-10 rounded-full object-cover"},null,8,Ne)):f("",!0),h(d(s.name),1)]),t("td",Te,d(s.email),1),t("td",qe,d(s.department),1),t("td",Fe,d(s.designation),1),t("td",Oe,d(s.phone),1),t("td",_e,[t("div",Ie,[t("button",{onClick:u=>ue(s),class:"text-blue-600 hover:text-blue-800 font-medium"}," Edit ",8,Re),t("button",{onClick:u=>me(s),class:"text-red-600 hover:text-red-800 font-medium"}," Delete ",8,He)])])]))),128)),K.value.length===0?(a(),i("tr",We,[...e[39]||(e[39]=[t("td",{colspan:"6",class:"px-4 py-8 text-gray-500"}," No staff found. ",-1)])])):f("",!0)])])]),t("div",Xe,[t("div",null," Showing "+d((c.value-1)*g.value+1)+" to "+d(Math.min(c.value*g.value,E.value.length))+" of "+d(E.value.length)+" results ",1),t("div",Ge,[t("button",{onClick:e[4]||(e[4]=s=>c.value=Math.max(1,c.value-1)),disabled:c.value<=1,class:"rounded-lg border border-gray-300 px-3 py-1 text-sm hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," Previous ",8,Ke),t("span",Je,"Page "+d(c.value),1),t("button",{onClick:e[5]||(e[5]=s=>c.value=Math.min(Math.ceil(E.value.length/g.value),c.value+1)),disabled:c.value*g.value>=E.value.length,class:"rounded-lg border border-gray-300 px-3 py-1 text-sm hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," Next ",8,Qe)])]),(a(),R(H,{to:"body"},[P(W,{"enter-active-class":"transition-opacity duration-300","leave-active-class":"transition-opacity duration-300","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:V(()=>[A.value?(a(),i("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",onClick:e[16]||(e[16]=z(s=>A.value=!1,["self"]))},[t("div",Ye,[e[51]||(e[51]=t("h2",{class:"mb-4 text-xl font-semibold text-gray-900"}," Add Staff ",-1)),t("form",{onSubmit:z(ie,["prevent"]),class:"space-y-4"},[t("div",null,[e[41]||(e[41]=t("label",{class:"block text-sm font-medium text-gray-700"},"Name",-1)),m(t("input",{"onUpdate:modelValue":e[6]||(e[6]=s=>n.name=s),type:"text",class:C(["mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-blue-500 focus:ring-blue-500",{"border-red-500":o.value.name}])},null,2),[[v,n.name]]),o.value.name?(a(),i("div",Ze,d(o.value.name[0]),1)):f("",!0)]),t("div",null,[e[42]||(e[42]=t("label",{class:"block text-sm font-medium text-gray-700"},"Email",-1)),m(t("input",{"onUpdate:modelValue":e[7]||(e[7]=s=>n.email=s),type:"email",class:C(["mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-blue-500 focus:ring-blue-500",{"border-red-500":o.value.email}])},null,2),[[v,n.email]]),o.value.email?(a(),i("div",et,d(o.value.email[0]),1)):f("",!0)]),t("div",null,[e[45]||(e[45]=t("label",{class:"block text-sm font-medium text-gray-700"},"Password",-1)),t("div",tt,[m(t("input",{"onUpdate:modelValue":e[8]||(e[8]=s=>n.password=s),type:B.value?"text":"password",class:C(["mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 pr-10 focus:border-blue-500 focus:ring-blue-500",{"border-red-500":o.value.password}])},null,10,st),[[re,n.password]]),t("button",{type:"button",onClick:e[9]||(e[9]=s=>B.value=!B.value),class:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-600"},[B.value?(a(),i("svg",lt,[...e[43]||(e[43]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"},null,-1)])])):(a(),i("svg",ot,[...e[44]||(e[44]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])]))])]),o.value.password?(a(),i("div",at,d(o.value.password[0]),1)):f("",!0)]),t("div",null,[e[46]||(e[46]=t("label",{class:"block text-sm font-medium text-gray-700"},"Designation",-1)),m(t("input",{"onUpdate:modelValue":e[10]||(e[10]=s=>n.designation=s),type:"text",class:"mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-blue-500 focus:ring-blue-500"},null,512),[[v,n.designation]])]),t("div",null,[e[47]||(e[47]=t("label",{class:"block text-sm font-medium text-gray-700"},"Department",-1)),m(t("input",{"onUpdate:modelValue":e[11]||(e[11]=s=>n.department=s),type:"text",class:"mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-blue-500 focus:ring-blue-500"},null,512),[[v,n.department]])]),t("div",null,[e[48]||(e[48]=t("label",{class:"block text-sm font-medium text-gray-700"},"Phone",-1)),m(t("input",{"onUpdate:modelValue":e[12]||(e[12]=s=>n.phone=s),type:"text",class:"mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-blue-500 focus:ring-blue-500"},null,512),[[v,n.phone]])]),t("div",null,[e[49]||(e[49]=t("label",{class:"block text-sm font-medium text-gray-700"},"About",-1)),m(t("textarea",{"onUpdate:modelValue":e[13]||(e[13]=s=>n.about=s),rows:"3",class:"mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-blue-500 focus:ring-blue-500"},null,512),[[v,n.about]])]),t("div",null,[e[50]||(e[50]=t("label",{class:"block text-sm font-medium text-gray-700"},"Photo",-1)),t("input",{onChange:e[14]||(e[14]=s=>n.photo=s.target.files[0]),type:"file",accept:"image/*",class:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"},null,32),o.value.photo?(a(),i("div",rt,d(o.value.photo[0]),1)):f("",!0)]),t("div",nt,[t("button",{type:"button",onClick:e[15]||(e[15]=s=>A.value=!1),class:"rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"}," Cancel "),t("button",{type:"submit",disabled:T.value,class:"rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 disabled:opacity-50"},d(T.value?"Creating...":"Create Staff"),9,it)])],32)])])):f("",!0)]),_:1})])),(a(),R(H,{to:"body"},[P(W,{"enter-active-class":"transition-opacity duration-300","leave-active-class":"transition-opacity duration-300","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:V(()=>[U.value?(a(),i("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",onClick:e[27]||(e[27]=z(s=>U.value=!1,["self"]))},[t("div",dt,[e[63]||(e[63]=t("h2",{class:"mb-4 text-xl font-semibold text-gray-900"}," Edit Staff ",-1)),t("form",{onSubmit:z(pe,["prevent"]),class:"space-y-4"},[t("div",null,[e[52]||(e[52]=t("label",{class:"block text-sm font-medium text-gray-700"},"Name",-1)),m(t("input",{"onUpdate:modelValue":e[17]||(e[17]=s=>r.name=s),type:"text",class:C(["mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-blue-500 focus:ring-blue-500",{"border-red-500":o.value.name}])},null,2),[[v,r.name]]),o.value.name?(a(),i("div",ut,d(o.value.name[0]),1)):f("",!0)]),t("div",null,[e[53]||(e[53]=t("label",{class:"block text-sm font-medium text-gray-700"},"Email",-1)),m(t("input",{"onUpdate:modelValue":e[18]||(e[18]=s=>r.email=s),type:"email",class:C(["mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-blue-500 focus:ring-blue-500",{"border-red-500":o.value.email}])},null,2),[[v,r.email]]),o.value.email?(a(),i("div",pt,d(o.value.email[0]),1)):f("",!0)]),t("div",null,[e[56]||(e[56]=t("label",{class:"block text-sm font-medium text-gray-700"},"Password (leave blank to keep current)",-1)),t("div",mt,[m(t("input",{"onUpdate:modelValue":e[19]||(e[19]=s=>r.password=s),type:O.value?"text":"password",class:C(["mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 pr-10 focus:border-blue-500 focus:ring-blue-500",{"border-red-500":o.value.password}])},null,10,ft),[[re,r.password]]),t("button",{type:"button",onClick:e[20]||(e[20]=s=>O.value=!O.value),class:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-600"},[O.value?(a(),i("svg",bt,[...e[54]||(e[54]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"},null,-1)])])):(a(),i("svg",vt,[...e[55]||(e[55]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])]))])]),o.value.password?(a(),i("div",ct,d(o.value.password[0]),1)):f("",!0)]),t("div",null,[e[57]||(e[57]=t("label",{class:"block text-sm font-medium text-gray-700"},"Designation",-1)),m(t("input",{"onUpdate:modelValue":e[21]||(e[21]=s=>r.designation=s),type:"text",class:"mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-blue-500 focus:ring-blue-500"},null,512),[[v,r.designation]])]),t("div",null,[e[58]||(e[58]=t("label",{class:"block text-sm font-medium text-gray-700"},"Department",-1)),m(t("input",{"onUpdate:modelValue":e[22]||(e[22]=s=>r.department=s),type:"text",class:"mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-blue-500 focus:ring-blue-500"},null,512),[[v,r.department]])]),t("div",null,[e[59]||(e[59]=t("label",{class:"block text-sm font-medium text-gray-700"},"Phone",-1)),m(t("input",{"onUpdate:modelValue":e[23]||(e[23]=s=>r.phone=s),type:"text",class:"mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-blue-500 focus:ring-blue-500"},null,512),[[v,r.phone]])]),t("div",null,[e[60]||(e[60]=t("label",{class:"block text-sm font-medium text-gray-700"},"About",-1)),m(t("textarea",{"onUpdate:modelValue":e[24]||(e[24]=s=>r.about=s),rows:"3",class:"mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-blue-500 focus:ring-blue-500"},null,512),[[v,r.about]])]),t("div",null,[e[61]||(e[61]=t("label",{class:"block text-sm font-medium text-gray-700"},"Photo (leave blank to keep current)",-1)),t("input",{onChange:e[25]||(e[25]=s=>r.photo=s.target.files[0]),type:"file",accept:"image/*",class:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"},null,32),o.value.photo?(a(),i("div",gt,d(o.value.photo[0]),1)):f("",!0)]),t("div",xt,[t("button",{type:"button",onClick:e[26]||(e[26]=s=>U.value=!1),class:"rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"}," Cancel "),e[62]||(e[62]=t("button",{type:"submit",class:"rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700"}," Save Changes ",-1))])],32)])])):f("",!0)]),_:1})])),(a(),R(H,{to:"body"},[P(W,{"enter-active-class":"transition-opacity duration-300","leave-active-class":"transition-opacity duration-300","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:V(()=>[S.value?(a(),i("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",onClick:e[29]||(e[29]=z(s=>S.value=!1,["self"]))},[t("div",yt,[e[66]||(e[66]=t("h2",{class:"mb-4 text-xl font-semibold text-gray-900"}," Delete Staff ",-1)),t("p",wt,[e[64]||(e[64]=h(" Are you sure you want to delete ",-1)),t("strong",null,d(k.value?.name),1),e[65]||(e[65]=h("? This action cannot be undone. ",-1))]),t("div",kt,[t("button",{onClick:e[28]||(e[28]=s=>S.value=!1),class:"rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"}," Cancel "),t("button",{onClick:fe,class:"rounded-lg bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700"}," Delete ")])])])):f("",!0)]),_:1})])),t("div",ht,[P(se,{name:"toast","enter-active-class":"transition-all duration-300","leave-active-class":"transition-all duration-300","enter-from-class":"opacity-0 translate-x-full","enter-to-class":"opacity-100 translate-x-0","leave-from-class":"opacity-100 translate-x-0","leave-to-class":"opacity-0 translate-x-full"},{default:V(()=>[(a(!0),i(oe,null,ae(M.value,s=>(a(),i("div",{key:s.id,class:C(["flex items-start gap-3 rounded-lg border p-4 shadow-lg",{"border-green-200 bg-green-50 text-green-800":s.type==="success","border-red-200 bg-red-50 text-red-800":s.type==="error","border-blue-200 bg-blue-50 text-blue-800":s.type==="info"}])},[t("div",Ct,[t("div",jt,d(s.title),1),t("div",St,d(s.message),1)]),t("button",{onClick:u=>M.value=M.value.filter(b=>b.id!==s.id),class:"text-gray-400 hover:text-gray-600"},[...e[67]||(e[67]=[t("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,Mt)],2))),128))]),_:1})])])]),_:1}))}},Et=ye(Vt,[["__scopeId","data-v-1e1c2a4a"]]);export{Et as default};
