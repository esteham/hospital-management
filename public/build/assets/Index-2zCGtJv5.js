import{p as d,m as $,c as n,a as y,u as j,h as z,w as S,b as e,t as l,i as b,z as D,o as a,F as f,r as h,v as F,d as w,n as O,e as E,l as U}from"./app-BKKa_hDf.js";import{_ as I}from"./AuthenticatedLayout-4C4ktTzY.js";import"./logo-DeNzv_1-.js";const q={class:"min-h-screen bg-gray-50/30 py-8"},P={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},H={class:"mb-8"},J={class:"flex items-center justify-between"},K={class:"text-right"},Q={class:"text-2xl font-semibold text-gray-900"},R={class:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6 mb-8"},X={class:"flex flex-col lg:flex-row gap-4 items-end"},G={class:"flex-1 w-full"},W={class:"relative"},Y={class:"w-full lg:w-48"},Z={class:"w-full lg:w-48"},ee=["value"],te={key:0,class:"bg-white rounded-2xl shadow-sm border border-gray-200 p-12 text-center"},se={key:1,class:"space-y-8"},oe={class:"flex items-center justify-between mb-6"},re={class:"text-2xl font-bold text-gray-900"},le={class:"px-3 py-1 bg-indigo-50 text-indigo-700 rounded-full text-sm font-medium"},ne={class:"grid grid-cols-1 xl:grid-cols-2 gap-6"},ae={class:"flex items-start justify-between mb-4"},ie={class:"text-lg font-semibold text-gray-900"},de={class:"text-gray-600 text-sm mt-1"},ue={class:"grid grid-cols-2 gap-4 mb-6"},ce={class:"flex items-center text-sm text-gray-600"},me={class:"flex items-center text-sm text-gray-600"},ge={class:"flex items-center text-sm text-gray-600 col-span-2"},xe={key:0,class:"mb-6"},pe={class:"text-sm text-gray-700 bg-gray-50 rounded-lg p-3 border border-gray-200"},fe={class:"flex flex-wrap gap-2"},ve=["onClick","disabled"],ye=["onClick","disabled"],_e={__name:"Index",props:{appointments:Array},setup(B){const x=d(B.appointments||[]);d(!1),d(null);const u=d(new Date().toISOString().split("T")[0]),p=d(""),c=d("all"),m=d(!1),V=[{value:"all",label:"All Status",color:"gray"},{value:"pending",label:"Pending",color:"yellow"},{value:"confirmed",label:"Confirmed",color:"green"},{value:"cancelled",label:"Cancelled",color:"red"}],k=$(()=>{let r=x.value.filter(s=>{const i=`${s.first_name} ${s.last_name}`.toLowerCase(),o=s.email.toLowerCase(),g=s.preferred_date,v=p.value.toLowerCase(),T=i.includes(v)||o.includes(v)||g.includes(v),L=c.value==="all"||s.status===c.value;return T&&L});u.value&&(r=r.filter(s=>s.preferred_date===u.value));const t={};return r.forEach(s=>{const i=s.preferred_date;t[i]||(t[i]=[]),t[i].push(s)}),t}),A=r=>({pending:"bg-amber-50 text-amber-700 ring-amber-600/20",confirmed:"bg-emerald-50 text-emerald-700 ring-emerald-600/20",cancelled:"bg-rose-50 text-rose-700 ring-rose-600/20"})[r]||"bg-gray-50 text-gray-700 ring-gray-600/20",_=async(r,t)=>{if(!m.value){m.value=!0;try{const s=await fetch(`/doctor/appointments/${r}`,{method:"PUT",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:JSON.stringify({status:t})});if(s.ok){const i=await s.json(),o=x.value.findIndex(g=>g.id===r);o!==-1&&(x.value[o]=i.appointment),C(`Appointment ${t} successfully`,"success")}else throw new Error("Failed to update appointment status")}catch(s){console.error("Error:",s),C("Failed to update appointment status","error")}finally{m.value=!1}}},C=(r,t="info")=>{alert(r)},N=r=>new Date(r).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),M=()=>{p.value="",u.value=new Date().toISOString().split("T")[0],c.value="all"};return(r,t)=>(a(),n(f,null,[y(j(z),{title:"My Appointments - Doctor Dashboard"}),y(I,null,{default:S(()=>[e("div",q,[e("div",P,[e("div",H,[e("div",J,[t[4]||(t[4]=e("div",{class:"flex items-center space-x-4"},[e("div",{class:"p-3 bg-white rounded-2xl shadow-sm border border-gray-100"},[e("svg",{class:"w-7 h-7 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M8 7V3a2 2 0 012-2h4a2 2 0 012 2v4m-6 4v10a2 2 0 002 2h4a2 2 0 002-2V11M9 11h6"})])]),e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900"}," Appointments "),e("p",{class:"text-gray-600 mt-1"}," Manage and track your patient appointments ")])],-1)),e("div",K,[t[3]||(t[3]=e("p",{class:"text-sm text-gray-500"}," Total Appointments ",-1)),e("p",Q,l(x.value.length),1)])])]),e("div",R,[e("div",X,[e("div",G,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Search Appointments ",-1)),e("div",W,[t[5]||(t[5]=e("svg",{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),b(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>p.value=s),type:"text",placeholder:"Search by patient name, email, or date...",class:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors"},null,512),[[D,p.value]])])]),e("div",Y,[t[7]||(t[7]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Date ",-1)),b(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>u.value=s),type:"date",class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors"},null,512),[[D,u.value]])]),e("div",Z,[t[8]||(t[8]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Status ",-1)),b(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>c.value=s),class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors"},[(a(),n(f,null,h(V,s=>e("option",{key:s.value,value:s.value},l(s.label),9,ee)),64))],512),[[F,c.value]])]),e("button",{onClick:M,class:"px-6 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors font-medium"}," Clear ")])]),Object.keys(k.value).length===0?(a(),n("div",te,[e("div",{class:"max-w-md mx-auto"},[t[9]||(t[9]=e("div",{class:"p-4 bg-gray-50 rounded-2xl inline-flex mb-6"},[e("svg",{class:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})])],-1)),t[10]||(t[10]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-2"}," No appointments found ",-1)),t[11]||(t[11]=e("p",{class:"text-gray-500 mb-6"}," No appointments match your current filters. Try adjusting your search criteria. ",-1)),e("button",{onClick:M,class:"px-6 py-3 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 transition-colors font-medium"}," Clear all filters ")])])):(a(),n("div",se,[(a(!0),n(f,null,h(k.value,(s,i)=>(a(),n("div",{key:i},[e("div",oe,[e("h2",re,l(N(i)),1),e("span",le,l(s.length)+" appointment"+l(s.length!==1?"s":""),1)]),e("div",ne,[(a(!0),n(f,null,h(s,o=>(a(),n("div",{key:o.id,class:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow"},[e("div",ae,[e("div",null,[e("h3",ie,l(o.first_name)+" "+l(o.last_name),1),e("p",de,l(o.email),1)]),e("span",{class:O(["px-3 py-1 rounded-full text-xs font-medium ring-1 ring-inset",A(o.status)])},l(o.status),3)]),e("div",ue,[e("div",ce,[t[12]||(t[12]=e("svg",{class:"w-4 h-4 mr-2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",null,l(o.preferred_time),1)]),e("div",me,[t[13]||(t[13]=e("svg",{class:"w-4 h-4 mr-2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"})],-1)),e("span",null,l(o.speciality),1)]),e("div",ge,[t[14]||(t[14]=e("svg",{class:"w-4 h-4 mr-2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})],-1)),e("span",null,l(o.phone),1)])]),o.additional_notes?(a(),n("div",xe,[e("p",pe,[t[15]||(t[15]=e("strong",{class:"font-medium text-gray-900"},"Notes:",-1)),E(" "+l(o.additional_notes),1)])])):w("",!0),e("div",fe,[o.status==="pending"?(a(),n("button",{key:0,onClick:g=>_(o.id,"confirmed"),disabled:m.value,class:"flex-1 min-w-[120px] px-4 py-2.5 bg-emerald-500 hover:bg-emerald-600 disabled:bg-emerald-300 text-white rounded-xl font-medium transition-colors flex items-center justify-center space-x-2"},[...t[16]||(t[16]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),e("span",null,"Confirm",-1)])],8,ve)):w("",!0),o.status==="pending"?(a(),n("button",{key:1,onClick:g=>_(o.id,"cancelled"),disabled:m.value,class:"flex-1 min-w-[120px] px-4 py-2.5 bg-rose-500 hover:bg-rose-600 disabled:bg-rose-300 text-white rounded-xl font-medium transition-colors flex items-center justify-center space-x-2"},[...t[17]||(t[17]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),e("span",null,"Cancel",-1)])],8,ye)):w("",!0),y(j(U),{href:`/doctor/appointments/${o.id}`,class:"flex-1 min-w-[120px] px-4 py-2.5 bg-white border border-gray-300 hover:bg-gray-50 text-gray-700 rounded-xl font-medium transition-colors flex items-center justify-center space-x-2"},{default:S(()=>[...t[18]||(t[18]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),e("span",null,"Details",-1)])]),_:1},8,["href"])])]))),128))])]))),128))]))])])]),_:1})],64))}};export{_e as default};
