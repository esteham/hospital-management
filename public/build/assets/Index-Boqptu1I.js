import{L as E,q as k,s as K,p as D,y as W,z as B,w as H,b as e,a as i,u as o,t as p,C as ee,c as m,d as w,o as u,f as v,F as L,e as U,j as b,E as te,A as C}from"./app-Dl_jiGoS.js";import{_ as se}from"./AuthenticatedLayout-BmzpxVzL.js";import{a as $}from"./api-DXa59IFh.js";import{_ as ae}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./logo-DeNzv_1-.js";/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=d=>d.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),le=d=>d.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,l,c)=>c?c.toUpperCase():l.toLowerCase()),ne=d=>{const r=le(d);return r.charAt(0).toUpperCase()+r.slice(1)},ie=(...d)=>d.filter((r,l,c)=>!!r&&r.trim()!==""&&c.indexOf(r)===l).join(" ").trim(),q=d=>d==="";/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var M={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=({name:d,iconNode:r,absoluteStrokeWidth:l,"absolute-stroke-width":c,strokeWidth:y,"stroke-width":x,size:f=M.width,color:n=M.stroke,...S},{slots:g})=>E("svg",{...M,...S,width:f,height:f,stroke:n,"stroke-width":q(l)||q(c)||l===!0||c===!0?Number(y||x||M["stroke-width"])*24/Number(f):y||x||M["stroke-width"],class:ie("lucide",S.class,...d?[`lucide-${I(ne(d))}-icon`,`lucide-${I(d)}`]:["lucide-icon"])},[...r.map(V=>E(...V)),...g.default?[g.default()]:[]]);/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h=(d,r)=>(l,{slots:c,attrs:y})=>E(oe,{...y,...l,iconNode:r,name:d},c);/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=h("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=h("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=h("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=h("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=h("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=h("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=h("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=h("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),re={class:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50/30"},ce={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},ue={class:"space-y-6"},pe={class:"flex justify-between items-center"},me={class:"flex items-center gap-4"},ye={class:"flex items-center gap-2 text-sm text-gray-600 bg-white px-3 py-2 rounded-lg border"},xe=["disabled"],fe={key:0,class:"bg-white rounded-2xl shadow-sm border border-gray-200/80 p-6 space-y-6 backdrop-blur-sm"},_e={class:"flex items-center justify-between"},he={class:"text-xl font-semibold text-gray-900"},ge={key:0,class:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},ve={class:"grid md:grid-cols-2 lg:grid-cols-3 gap-6"},be={class:"space-y-2"},ke={class:"flex items-center gap-2 text-sm font-medium text-gray-700"},we={class:"grid grid-cols-2 gap-2"},Ce=["value"],Me={class:"text-sm text-gray-700"},Se={class:"space-y-2"},je={class:"flex items-center gap-2 text-sm font-medium text-gray-700"},$e={class:"space-y-2"},Ve={class:"flex items-center gap-2 text-sm font-medium text-gray-700"},Ae={class:"space-y-2"},De={class:"space-y-2"},Le={class:"flex items-center gap-2 text-sm font-medium text-gray-700"},Ue={class:"space-y-2"},Fe={class:"flex items-center gap-2 text-sm font-medium text-gray-700"},Te={class:"relative"},Ee={class:"flex gap-3 pt-4 border-t border-gray-200"},Ne=["disabled"],Be={class:"bg-white rounded-2xl shadow-sm border border-gray-200/80 overflow-hidden"},He={class:"overflow-hidden"},Ie={class:"w-full"},qe={class:"divide-y divide-gray-200/80"},Oe={key:0},Pe={colspan:"6",class:"px-6 py-12 text-center"},ze={class:"flex flex-col items-center justify-center gap-3"},Ze={class:"px-6 py-4 whitespace-nowrap"},Ge={class:"flex flex-col gap-1"},Re={class:"font-medium text-gray-900 text-sm"},Je={class:"px-6 py-4 whitespace-nowrap"},Qe={class:"flex items-center gap-2 text-gray-700"},Xe={class:"px-6 py-4 whitespace-nowrap text-gray-600"},Ye={class:"px-6 py-4 whitespace-nowrap"},Ke={class:"flex items-center gap-2 text-gray-700"},We={class:"px-6 py-4 whitespace-nowrap"},et={class:"flex items-center gap-2 text-gray-700"},tt={class:"px-6 py-4 whitespace-nowrap text-right"},st={class:"flex justify-end gap-2 group-hover:opacity-100 transition-opacity"},at=["onClick"],lt=["onClick"],nt={key:1},it={colspan:"6",class:"px-6 py-16 text-center"},ot={class:"flex flex-col items-center justify-center gap-4 text-gray-500"},dt={__name:"Index",setup(d){const r=[{v:"sat",t:"Saturday"},{v:"sun",t:"Sunday"},{v:"mon",t:"Monday"},{v:"tue",t:"Tuesday"},{v:"wed",t:"Wednesday"},{v:"thu",t:"Thursday"},{v:"fri",t:"Friday"}],l=k([]),c=k(!1),y=k(!1),x=k(null),f=k(!1),n=K({day_of_week:[],start_time:"09:00",end_time:"13:00",slot_minutes:15,max_patients_per_day:20,fee:500}),S=D(()=>r),g=D(()=>x.value!==null),V=D(()=>l.value.length>0);function j(s){if(!s)return s;if(/^\d{2}:\d{2}:\d{2}$/.test(s))return s.slice(0,5);const t=s.match(/^(\d{1,2}):(\d{2})/);return t?`${t[1].padStart(2,"0")}:${t[2]}`:s}async function R(){c.value=!0;try{const{data:s}=await $.get("/doctor/schedules/list");l.value=s}catch(s){alert(s.response?.data?.message||"Failed to load schedules.")}finally{c.value=!1}}function A(){x.value=null,f.value=!1,Object.assign(n,{day_of_week:[],start_time:"09:00",end_time:"13:00",slot_minutes:15,max_patients_per_day:20,fee:500})}function N(){A(),f.value=!0}async function J(){y.value=!0;const s={...n,start_time:j(n.start_time),end_time:j(n.end_time)};try{if(x.value){const{data:t}=await $.put(`/doctor/schedules/${x.value.id}`,s),a=l.value.findIndex(_=>_.id===x.value.id);a>-1&&(l.value[a]=t)}else{const{data:t}=await $.post("/doctor/schedules",s);l.value.push(t)}A()}catch(t){alert(t.response?.data?.message||"Validation error")}finally{y.value=!1}}function Q(s){x.value=s,f.value=!0,Object.assign(n,{day_of_week:Array.isArray(s.day_of_week)?s.day_of_week:[s.day_of_week],start_time:j(s.start_time),end_time:j(s.end_time),slot_minutes:s.slot_minutes,max_patients_per_day:s.max_patients_per_day,fee:s.fee})}async function X(s){if(confirm("Are you sure you want to delete this schedule?"))try{await $.delete(`/doctor/schedules/${s.id}`),l.value=l.value.filter(t=>t.id!==s.id)}catch(t){alert(t.response?.data?.message||"Failed to delete schedule.")}}function Y(s){const t=r.find(a=>a.v===s);return t?t.t:s}return W(R),(s,t)=>(u(),B(se,null,{default:H(()=>[e("div",re,[e("div",ce,[e("div",ue,[e("div",pe,[e("div",me,[e("div",ye,[i(o(F),{class:"w-4 h-4"}),e("span",null,p(l.value.length)+" schedule"+p(l.value.length!==1?"s":"")+" configured",1)])]),e("button",{onClick:N,class:"btn-primary flex items-center gap-2",disabled:f.value&&!g.value},[i(o(Z),{class:"w-4 h-4"}),t[6]||(t[6]=e("span",null,"New Schedule",-1))],8,xe)]),i(ee,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0 transform -translate-y-4","enter-to-class":"opacity-100 transform translate-y-0","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100 transform translate-y-0","leave-to-class":"opacity-0 transform -translate-y-4"},{default:H(()=>[f.value?(u(),m("div",fe,[e("div",_e,[e("div",null,[e("h2",he,p(g.value?"Edit Schedule":"Create New Schedule"),1),t[7]||(t[7]=e("p",{class:"text-gray-500 text-sm mt-1"}," Configure consultation hours and availability ",-1))]),g.value?(u(),m("span",ge,[i(o(z),{class:"w-3 h-3"}),t[8]||(t[8]=v(" Editing ",-1))])):w("",!0)]),e("div",ve,[e("div",be,[e("label",ke,[i(o(F),{class:"w-4 h-4"}),t[9]||(t[9]=v(" Days of Week (Available) ",-1))]),e("div",we,[(u(!0),m(L,null,U(S.value,a=>(u(),m("label",{key:a.v,class:"flex items-center gap-2 cursor-pointer"},[b(e("input",{"onUpdate:modelValue":t[0]||(t[0]=_=>n.day_of_week=_),value:a.v,type:"checkbox",class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,8,Ce),[[te,n.day_of_week]]),e("span",Me,p(a.t),1)]))),128))])]),e("div",Se,[e("label",je,[i(o(T),{class:"w-4 h-4"}),t[10]||(t[10]=v(" Start Time ",-1))]),b(e("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>n.start_time=a),type:"time",class:"input-field"},null,512),[[C,n.start_time]])]),e("div",$e,[e("label",Ve,[i(o(T),{class:"w-4 h-4"}),t[11]||(t[11]=v(" End Time ",-1))]),b(e("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>n.end_time=a),type:"time",class:"input-field"},null,512),[[C,n.end_time]])]),e("div",Ae,[t[12]||(t[12]=e("label",{class:"text-sm font-medium text-gray-700"}," Slot Duration (Minutes) ",-1)),b(e("input",{"onUpdate:modelValue":t[3]||(t[3]=a=>n.slot_minutes=a),type:"number",min:"5",max:"60",step:"5",class:"input-field"},null,512),[[C,n.slot_minutes,void 0,{number:!0}]])]),e("div",De,[e("label",Le,[i(o(G),{class:"w-4 h-4"}),t[13]||(t[13]=v(" Max Patients/Day ",-1))]),b(e("input",{"onUpdate:modelValue":t[4]||(t[4]=a=>n.max_patients_per_day=a),type:"number",min:"1",class:"input-field"},null,512),[[C,n.max_patients_per_day,void 0,{number:!0}]])]),e("div",Ue,[e("label",Fe,[i(o(O),{class:"w-4 h-4"}),t[14]||(t[14]=v(" Consultation Fee ",-1))]),e("div",Te,[t[15]||(t[15]=e("span",{class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500"},"$",-1)),b(e("input",{"onUpdate:modelValue":t[5]||(t[5]=a=>n.fee=a),type:"number",min:"0",step:"50",class:"input-field pl-8"},null,512),[[C,n.fee,void 0,{number:!0}]])])])]),e("div",Ee,[e("button",{onClick:J,disabled:y.value,class:"btn-primary flex items-center gap-2"},[y.value?(u(),B(o(P),{key:0,class:"w-4 h-4 animate-spin"})):w("",!0),e("span",null,p(g.value?"Update Schedule":"Create Schedule"),1)],8,Ne),e("button",{onClick:A,class:"btn-secondary"}," Cancel ")])])):w("",!0)]),_:1}),e("div",Be,[t[21]||(t[21]=e("div",{class:"px-6 py-4 border-b border-gray-200/80 bg-gray-50/50"},[e("h3",{class:"text-lg font-semibold text-gray-900"}," Configured Schedules ")],-1)),e("div",He,[e("table",Ie,[t[20]||(t[20]=e("thead",{class:"bg-gray-50/80 border-b border-gray-200/80"},[e("tr",null,[e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Days "),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Time Slot "),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Duration "),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Capacity "),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Fee "),e("th",{class:"px-6 py-4 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",qe,[c.value?(u(),m("tr",Oe,[e("td",Pe,[e("div",ze,[i(o(P),{class:"w-8 h-8 animate-spin text-blue-600"}),t[16]||(t[16]=e("span",{class:"text-gray-500 font-medium"},"Loading schedules...",-1))])])])):w("",!0),(u(!0),m(L,null,U(l.value,a=>(u(),m("tr",{key:a.id,class:"group hover:bg-blue-50/30 transition-colors duration-200"},[e("td",Ze,[e("div",Ge,[(u(!0),m(L,null,U(a.day_of_week,_=>(u(),m("div",{key:_,class:"flex items-center gap-2"},[t[17]||(t[17]=e("div",{class:"w-2 h-2 bg-blue-600 rounded-full"},null,-1)),e("span",Re,p(Y(_)),1)]))),128))])]),e("td",Je,[e("div",Qe,[i(o(T),{class:"w-4 h-4 text-gray-400"}),e("span",null,p(a.start_time)+" - "+p(a.end_time),1)])]),e("td",Xe,p(a.slot_minutes)+" minutes ",1),e("td",Ye,[e("div",Ke,[i(o(G),{class:"w-4 h-4 text-gray-400"}),e("span",null,p(a.max_patients_per_day)+" patients",1)])]),e("td",We,[e("div",et,[i(o(O),{class:"w-4 h-4 text-gray-400"}),e("span",null,"$"+p(a.fee),1)])]),e("td",tt,[e("div",st,[e("button",{onClick:_=>Q(a),class:"action-btn bg-blue-50 text-blue-600 hover:bg-blue-100",title:"Edit schedule"},[i(o(z),{class:"w-4 h-4"})],8,at),e("button",{onClick:_=>X(a),class:"action-btn bg-red-50 text-red-600 hover:bg-red-100",title:"Delete schedule"},[i(o(de),{class:"w-4 h-4"})],8,lt)])])]))),128)),!c.value&&!V.value?(u(),m("tr",nt,[e("td",it,[e("div",ot,[i(o(F),{class:"w-12 h-12 text-gray-300"}),t[19]||(t[19]=e("div",null,[e("p",{class:"font-medium text-gray-900 mb-1"}," No schedules configured "),e("p",{class:"text-sm"}," Get started by creating your first schedule ")],-1)),e("button",{onClick:N,class:"btn-primary flex items-center gap-2 mt-2"},[i(o(Z),{class:"w-4 h-4"}),t[18]||(t[18]=e("span",null,"Create Schedule",-1))])])])])):w("",!0)])])])])])])])]),_:1}))}},yt=ae(dt,[["__scopeId","data-v-99f92310"]]);export{yt as default};
